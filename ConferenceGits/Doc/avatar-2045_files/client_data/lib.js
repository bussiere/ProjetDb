(function(o){function g(a){var c=h["$"+a]||window[a];if(!c)throw Error("Ender Error: Requested module '"+a+"' has not been defined.");return c}function c(a,c){return h["$"+a]=c}function e(a,c){var e,f;this.selector=a;typeof a=="undefined"?(e=[],this.selector=""):e=typeof a=="string"||a.nodeName||a.length&&"item"in a||a==window?n._select(a,c):isFinite(a.length)?a:[a];for(f=this.length=e.length;f--;)this[f]=e[f]}function n(a,c){return new e(a,c)}o.global=o;var h={},f=o.$,a=o.require,l=o.provide;o.provide=
c;o.require=g;e.prototype.forEach=function(a,c){var e,f;e=0;for(f=this.length;e<f;++e)e in this&&a.call(c||this[e],this[e],e,this);return this};e.prototype.$=n;n._VERSION="0.4.3-dev";n.fn=e.prototype;n.ender=function(a,c){var f=c?e.prototype:n,h;for(h in a)h!="noConflict"&&h!="_VERSION"&&(f[h]=a[h])};n._select=function(a,c){if(typeof a=="string")return(c||document).querySelectorAll(a);if(a.nodeName)return[a];return a};n.noConflict=function(e){o.$=f;if(e)o.provide=l,o.require=a,e(g,c,this);return this};
if(typeof module!=="undefined"&&module.exports)module.exports=n;o.ender=o.$=o.ender||n})(this);
(function(){var o={exports:{}};(function(g,c){typeof o!="undefined"?o.exports=c():typeof define=="function"&&typeof define.amd=="object"?define(c):this[g]=c()})("domready",function(g){function c(a){for(l=1;a=e.shift();)a()}var e=[],n,h=document,f=h.documentElement,a=f.doScroll,l=/^loade|c/.test(h.readyState);h.addEventListener&&h.addEventListener("DOMContentLoaded",n=function(){h.removeEventListener("DOMContentLoaded",n,!1);c()},!1);a&&h.attachEvent("onreadystatechange",n=function(){/^c/.test(h.readyState)&&
(h.detachEvent("onreadystatechange",n),c())});return g=a?function(a){self!=top?l?a():e.push(a):function(){try{f.doScroll("left")}catch(c){return setTimeout(function(){g(a)},50)}a()}()}:function(a){l?a():e.push(a)}});provide("domready",o.exports);(function(g){var c=require("domready");g.ender({domReady:c});g.ender({ready:function(e){c(e);return this}},!0)})(ender)})();
(function(){var o={exports:{}};(function(g,c,e){typeof o!="undefined"&&o.exports?o.exports=c():typeof e.define!="undefined"&&e.define=="function"&&e.define.amd?define(g,c):e[g]=c()})("qwery",function(){function g(){this.c={}}function c(b){return U.g(b)||U.s(b,"(^|\\s+)"+b+"(\\s+|$)",1)}function e(b,d){for(var j=0,i=b.length;j<i;j++)d(b[j])}function n(b){for(var d=[],j=0,i=b.length;j<i;++j)s(b[j])?d=d.concat(b[j]):d[d.length]=b[j];return d}function h(b){for(var d=0,j=b.length,i=[];d<j;d++)i[d]=b[d];
return i}function f(b){for(;b=b.previousSibling;)if(b[A]==1)break;return b}function a(b){return b.match(P)}function l(b,d,j,i,a,t,e,z,f,V,h){var g,k,n;if(this[A]!==1)return!1;if(d&&d!=="*"&&this[q]&&this[q].toLowerCase()!==d)return!1;if(j&&(g=j.match(F))&&g[1]!==this.id)return!1;if(j&&(n=j.match(I)))for(b=n.length;b--;)if(!c(n[b].slice(1)).test(this.className))return!1;if(f&&v.pseudos[f]&&!v.pseudos[f](this,h))return!1;if(i&&!e)for(k in f=this.attributes,f)if(Object.prototype.hasOwnProperty.call(f,
k)&&(f[k].name||k)==a)return this;if(i&&!p(t,M(this,a)||"",e))return!1;return this}function m(d){return T.g(d)||T.s(d,d.replace(b,"\\$1"))}function p(b,d,j){switch(b){case "=":return d==j;case "^=":return d.match(N.g("^="+j)||N.s("^="+j,"^"+m(j),1));case "$=":return d.match(N.g("$="+j)||N.s("$="+j,m(j)+"$",1));case "*=":return d.match(N.g(j)||N.s(j,m(j),1));case "~=":return d.match(N.g("~="+j)||N.s("~="+j,"(?:^|\\s+)"+m(j)+"(?:\\s+|$)",1));case "|=":return d.match(N.g("|="+j)||N.s("|="+j,"^"+m(j)+
"(-|$)",1))}return 0}function o(b,d){var j=[],i=[],t,c,f,z,h,M=d,g=Q.g(b)||Q.s(b,b.split(O)),k=b.match(V);if(!g.length)return j;c=(g=g.slice(0)).pop();if(g.length&&(t=g[g.length-1].match(J)))M=x(d,t[1]);if(!M)return j;z=a(c);f=M!==d&&M[A]!==9&&k&&/^[+~]$/.test(k[k.length-1])?function(b){for(;M=M.nextSibling;)M[A]==1&&(z[1]?z[1]==M[q].toLowerCase():1)&&(b[b.length]=M);return b}([]):M[H](z[1]||"*");t=0;for(c=f.length;t<c;t++)if(h=l.apply(f[t],z))j[j.length]=h;if(!g.length)return j;e(j,function(b){r(b,
g,k)&&(i[i.length]=b)});return i}function r(b,d,j,i){function t(b,i,e){for(;e=W[j[i]](e,b);)if(u(e)&&l.apply(e,a(d[i])))if(i){if(c=t(e,i-1,e))return c}else return e}var c;return(c=t(b,d.length-1,b))&&(!i||R(c,i))}function u(b,d){return b&&typeof b==="object"&&(d=b[A])&&(d==1||d==9)}function w(b){var d=[],j,i;j=0;a:for(;j<b.length;++j){for(i=0;i<d.length;++i)if(d[i]==b[j])continue a;d[d.length]=b[j]}return d}function s(b){return typeof b==="object"&&isFinite(b.length)}function E(b){if(!b)return G;
if(typeof b=="string")return v(b)[0];if(!b[A]&&s(b))return b[0];return b}function x(b,d,j){return b[A]===9?b.getElementById(d):b.ownerDocument&&((j=b.ownerDocument.getElementById(d))&&R(j,b)&&j||!R(b,b.ownerDocument)&&y('[id="'+d+'"]',b)[0])}function v(b,d){var i,a,t=E(d);if(!t||!b)return[];if(b===window||u(b))return!d||b!==window&&u(t)&&R(b,t)?[b]:[];if(b&&s(b))return n(b);if(i=b.match(j)){if(i[1])return(a=x(t,i[1]))?[a]:[];if(i[2])return h(t[H](i[2]));if(X&&i[3])return h(t[C](i[3]))}return y(b,
t)}function D(b,d){return function(j){var i,a;if(L.test(j)){if(b[A]!==9){if(!(a=i=b.getAttribute("id")))b.setAttribute("id",a="__qwerymeupscotty");d(b.parentNode||b,'[id="'+a+'"]'+j,!0);i||b.removeAttribute("id")}}else j.length&&d(b,j,!1)}}var G=document,k=G.documentElement,C="getElementsByClassName",H="getElementsByTagName",q="tagName",A="nodeType",y,F=/#([\w\-]+)/,I=/\.[\w\-]+/g,J=/^#([\w\-]+)$/,K=/^([\w]+)?\.([\w\-]+)$/,L=/(^|,)\s*[>~+]/,d=/^\s+|\s*([,\s\+\~>]|$)\s*/g,i=/[\s\>\+\~]/,z=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,
b=/([.*+?\^=!:${}()|\[\]\/\\])/g,j=RegExp(J.source+"|"+/^([\w\-]+)$/.source+"|"+/^\.([\w\-]+)$/.source),V=RegExp("("+i.source+")"+z.source,"g"),O=RegExp(i.source+z.source),P=RegExp(/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/.source+"("+/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/.source+")?("+/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/.source+")?"),W={" ":function(b){return b&&b!==k&&b.parentNode},">":function(b,d){return b&&b.parentNode==d.parentNode&&b.parentNode},
"~":function(b){return b&&b.previousSibling},"+":function(b,d,j,i){if(!b)return!1;return(j=f(b))&&(i=f(d))&&j==i&&j}};g.prototype={g:function(b){return this.c[b]||void 0},s:function(b,d,j){return this.c[b]=j?RegExp(d):d}};var U=new g,T=new g,N=new g,Q=new g,R="compareDocumentPosition"in k?function(b,d){return(d.compareDocumentPosition(b)&16)==16}:"contains"in k?function(b,d){d=d[A]===9||d==window?k:d;return d!==b&&d.contains(b)}:function(b,d){for(;b=b.parentNode;)if(b===d)return 1;return 0},M=function(){var b=
G.createElement("p");return(b.innerHTML='<a href="#x">x</a>')&&b.firstChild.getAttribute("href")!="#x"?function(b,d){return d==="class"?b.className:d==="href"||d==="src"?b.getAttribute(d,2):b.getAttribute(d)}:function(b,d){return b.getAttribute(d)}}(),X=!!G[C],Y=G.querySelector&&G.querySelectorAll,S=function(b,d){var j=[],i,a;try{if(d[A]===9||!L.test(b))return h(d.querySelectorAll(b));e(i=b.split(","),D(d,function(b,d){a=b.querySelectorAll(d);a.length==1?j[j.length]=a.item(0):a.length&&(j=j.concat(h(a)))}));
return i.length>1&&j.length>1?w(j):j}catch(c){}return t(b,d)},t=function(b,j){var i=[],a,t,f,z,b=b.replace(d,"$1");if(a=b.match(K)){z=c(a[2]);a=j[H](a[1]||"*");t=0;for(f=a.length;t<f;t++)z.test(a[t].className)&&(i[i.length]=a[t]);return i}e(a=b.split(","),D(j,function(b,d,a){z=o(d,b);t=0;for(f=z.length;t<f;t++)if(b[A]===9||a||R(z[t],j))i[i.length]=z[t]}));return a.length>1&&i.length>1?w(i):i},i=function(b){typeof b.useNativeQSA!=="undefined"&&(y=!b.useNativeQSA?t:Y?S:t)};i({useNativeQSA:!0});v.configure=
i;v.uniq=w;v.is=function(b,d,j){if(u(d))return b==d;if(s(d))return!!~n(d).indexOf(b);for(var i=d.split(","),t;d=i.pop();)if(t=Q.g(d)||Q.s(d,d.split(O)),d=d.match(V),t=t.slice(0),l.apply(b,a(t.pop()))&&(!t.length||r(b,t,d,j)))return!0;return!1};v.pseudos={};return v},this);provide("qwery",o.exports);(function(g){var c=require("qwery");g.pseudos=c.pseudos;g._select=function(e,n){return(g._select=function(e){try{return e=require("bonzo"),function(a,f){return/^\s*</.test(a)?e.create(a,f):c(a,f)}}catch(f){}return c}())(e,
n)};g.ender({find:function(e){var n=[],h,f,a,l,m;h=0;for(f=this.length;h<f;h++){m=c(e,this[h]);a=0;for(l=m.length;a<l;a++)n.push(m[a])}return g(c.uniq(n))},and:function(e){for(var e=g(e),c=this.length,h=0,f=this.length+e.length;c<f;c++,h++)this[c]=e[h];return this},is:function(e,g){var h,f;h=0;for(f=this.length;h<f;h++)if(c.is(this[h],e,g))return!0;return!1}},!0)})(ender)})();
(function(){var o={exports:{}};(function(g,c,e){typeof o!="undefined"&&o.exports?o.exports=c():typeof e.define!="undefined"&&e.define=="function"&&e.define.amd?define(g,c):e[g]=c()})("bonzo",function(){function g(b,d,j){for(var i=0,a=b.length;i<a;i++)d.call(j||b[i],b[i],i,b);return b}function c(b,d,j){for(var i=0,a=b.length;i<a;i++)b[i]&&b[i].nodeName&&b[i].nodeType==1&&(c(b[i].childNodes,d,j),d.call(j||b[i],b[i],i,b));return b}function e(b){return b.replace(/-(.)/g,function(b,d){return d.toUpperCase()})}
function n(b){b[O]("data-node-uid")||b[V]("data-node-uid",++z);b=b[O]("data-node-uid");return i[b]||(i[b]={})}function h(b){(b=b[O]("data-node-uid"))&&delete i[b]}function f(b,d){try{return b===null||b===void 0?void 0:b==="true"?!0:b==="false"?!1:b==="null"?null:(d=parseFloat(b))==b?d:b}catch(j){}}function a(b,d,j,i,a){i=0;for(a=b.length;i<a;++i)if(d.call(j,b[i],i,b))return!0;return!1}function l(b){b=="transform"&&(b=P.transform)||/^transform-?[Oo]rigin$/.test(b)&&(b=P.transform+"Origin")||b=="float"&&
(b=P.cssFloat);return b?e(b):null}function m(b,d,j){var i=0,a=d||this,c=[],b=G&&typeof b=="string"&&b.charAt(0)!="<"?G(b):b;g(r(b),function(b){g(a,function(d){var e=!d[D]||d[D]&&!d[D][D]?function(){var b=d.cloneNode(!0),j,i;if(a.$&&a.cloneEvents){a.$(b).cloneEvents(d);j=a.$(b).find("*");i=a.$(d).find("*");for(var c=0;c<i.length;c++)a.$(j[c]).cloneEvents(i[c])}return b}():d;j(b,e);c[i]=e;i++})},this);g(c,function(b,d){a[d]=b});a.length=i;return a}function p(b,d){return typeof d=="function"?d(b):d}
function o(b){this.length=0;if(b){b=typeof b!=="string"&&!b.nodeType&&typeof b.length!=="undefined"?b:[b];this.length=b.length;for(var d=0;d<b.length;d++)this[d]=b[d]}}function r(b){return typeof b=="string"?s.create(b):b&&b.nodeName&&b.nodeType==1?[b]:b}function u(b,d,j){var i=this[0];if(!i)return this;if(b==null&&d==null)return(w(i)?{x:E.pageXOffset||v.scrollLeft,y:E.pageYOffset||v.scrollTop}:{x:i.scrollLeft,y:i.scrollTop})[j];w(i)?E.scrollTo(b,d):(b!=null&&(i.scrollLeft=b),d!=null&&(i.scrollTop=
d));return this}function w(b){return b===E||/^(?:body|html)$/i.test(b.tagName)}function s(b,d){return new o(b,d)}var E=window,x=E.document,v=x.documentElement,D="parentNode",G=null,k=/^(checked|value|selected)$/i,C=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,H=["<table>","</table>",1],q=["<table><tbody><tr>","</tr></tbody></table>",3],A=["<select>","</select>",1],y=["_","",0,1],F={thead:H,tbody:H,tfoot:H,colgroup:H,caption:H,tr:["<table><tbody>","</tbody></table>",2],th:q,td:q,col:["<table><colgroup>",
"</colgroup></table>",2],fieldset:["<form>","</form>",1],legend:["<form><fieldset>","</fieldset></form>",2],option:A,optgroup:A,script:y,style:y,link:y,param:y,base:y},I=/^(checked|selected)$/,J=/msie/i.test(navigator.userAgent),K,L,d,i={},z=0,b=/^-?[\d\.]+$/,j=/^data-(.+)$/,V="setAttribute",O="getAttribute",P=function(){var b=x.createElement("p");b.innerHTML='<a href="#x">x</a><table style="float:left;"></table>';return{hrefExtended:b.getElementsByTagName("a")[0][O]("href")!="#x",autoTbody:b.getElementsByTagName("tbody").length!==
0,computedStyle:x.defaultView&&x.defaultView.getComputedStyle,cssFloat:b.getElementsByTagName("table")[0].style.styleFloat?"styleFloat":"cssFloat",transform:function(){var d=["webkitTransform","MozTransform","OTransform","msTransform","Transform"],j;for(j=0;j<d.length;j++)if(d[j]in b.style)return d[j]}(),classList:"classList"in b}}(),W=/(^\s*|\s*$)/g,U=/\s+/,T=String.prototype.toString,N={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},Q=String.prototype.trim?function(b){return b.trim()}:
function(b){return b.replace(W,"")},R=P.computedStyle?function(b,d){var j=null,i=x.defaultView.getComputedStyle(b,"");i&&(j=i[d]);return b.style[d]||j}:J&&v.currentStyle?function(b,d){if(d=="opacity"){var j=100;try{j=b.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(i){try{j=b.filters("alpha").opacity}catch(a){}}return j/100}j=b.currentStyle?b.currentStyle[d]:null;return b.style[d]||j}:function(b,d){return b.style[d]};P.classList?(K=function(b,d){return b.classList.contains(d)},L=function(b,
d){b.classList.add(d)},d=function(b,d){b.classList.remove(d)}):(K=function(b,d){return RegExp("(^|\\s+)"+d+"(\\s+|$)").test(b.className)},L=function(b,d){b.className=Q(b.className+" "+d)},d=function(b,d){b.className=Q(b.className.replace(RegExp("(^|\\s+)"+d+"(\\s+|$)")," "))});o.prototype={get:function(b){return this[b]||null},each:function(b,d){return g(this,b,d)},deepEach:function(b,d){return c(this,b,d)},map:function(b,d){var j=[],i,a;for(a=0;a<this.length;a++)i=b.call(this,this[a],a),d?d(i)&&
j.push(i):j.push(i);return j},html:function(b,d){function j(d){g(r(b),function(b){d.appendChild(b)})}var i=d?v.textContent===void 0?"innerText":"textContent":"innerHTML";return typeof b!=="undefined"?this.empty().each(function(a){if(!d&&C.test(a.tagName))j(a);else try{a[i]=b}catch(c){j(a)}}):this[0]?this[0][i]:""},text:function(b){return this.html(b,1)},append:function(b){return this.each(function(d){g(r(b),function(b){d.appendChild(b)})})},prepend:function(b){return this.each(function(d){var j=d.firstChild;
g(r(b),function(b){d.insertBefore(b,j)})})},appendTo:function(b,d){return m.call(this,b,d,function(b,d){b.appendChild(d)})},prependTo:function(b,d){return m.call(this,b,d,function(b,d){b.insertBefore(d,b.firstChild)})},before:function(b){return this.each(function(d){g(s.create(b),function(b){d[D].insertBefore(b,d)})})},after:function(b){return this.each(function(d){g(s.create(b),function(b){d[D].insertBefore(b,d.nextSibling)})})},insertBefore:function(b,d){return m.call(this,b,d,function(b,d){b[D].insertBefore(d,
b)})},insertAfter:function(b,d){return m.call(this,b,d,function(b,d){var j=b.nextSibling;j?b[D].insertBefore(d,j):b[D].appendChild(d)})},replaceWith:function(b){this.deepEach(h);return this.each(function(d){d.parentNode.replaceChild(s.create(b)[0],d)})},addClass:function(b){b=T.call(b).split(U);return this.each(function(d){g(b,function(b){b&&!K(d,p(d,b))&&L(d,p(d,b))})})},removeClass:function(b){b=T.call(b).split(U);return this.each(function(j){g(b,function(b){b&&K(j,p(j,b))&&d(j,p(j,b))})})},hasClass:function(b){b=
T.call(b).split(U);return a(this,function(d){return a(b,function(b){return b&&K(d,b)})})},toggleClass:function(b,j){b=T.call(b).split(U);return this.each(function(i){g(b,function(b){b&&(typeof j!=="undefined"?j?L(i,b):d(i,b):K(i,b)?d(i,b):L(i,b))})})},show:function(b){return this.each(function(d){d.style.display=b||""})},hide:function(){return this.each(function(b){b.style.display="none"})},toggle:function(b,d){this.each(function(b){b.style.display=b.offsetWidth||b.offsetHeight?"none":d||""});b&&
b();return this},first:function(){return s(this.length?this[0]:[])},last:function(){return s(this.length?this[this.length-1]:[])},next:function(){return this.related("nextSibling")},previous:function(){return this.related("previousSibling")},parent:function(){return this.related(D)},related:function(b){return this.map(function(d){for(d=d[b];d&&d.nodeType!==1;)d=d[b];return d||0},function(b){return b})},focus:function(){this.length&&this[0].focus();return this},blur:function(){return this.each(function(b){b.blur()})},
css:function(d,j,i){if(j===void 0&&typeof d=="string"){j=this[0];if(!j)return null;if(j===x||j===E)return i=j===x?s.doc():s.viewport(),d=="width"?i.width:d=="height"?i.height:"";return(d=l(d))?R(j,d):null}var a=d;typeof d=="string"&&(a={},a[d]=j);if(J&&a.opacity)a.filter="alpha(opacity="+a.opacity*100+")",a.zoom=d.zoom||1,delete a.opacity;return this.each(function(d,j,i){for(var c in a)a.hasOwnProperty(c)&&(i=a[c],(j=l(c))&&b.test(i)&&!(j in N)&&(i+="px"),d.style[j]=p(d,i))})},offset:function(b,d){if(typeof b==
"number"||typeof d=="number")return this.each(function(j){var i=s(j),a=i.css("position"),c=i.offset(),e=a=="relative",f=[parseInt(i.css("left"),10),parseInt(i.css("top"),10)];a=="static"&&i.css("position","relative");isNaN(f[0])&&(f[0]=e?0:j.offsetLeft);isNaN(f[1])&&(f[1]=e?0:j.offsetTop);b!=null&&(j.style.left=b-c.left+f[0]+"px");d!=null&&(j.style.top=d-c.top+f[1]+"px")});if(!this[0])return{top:0,left:0,height:0,width:0};for(var j=this[0],i=j.offsetWidth,a=j.offsetHeight,c=j.offsetTop,e=j.offsetLeft;j=
j.offsetParent;)c+=j.offsetTop,e+=j.offsetLeft,j!=document.body&&(c-=j.scrollTop,e-=j.scrollLeft);return{top:c,left:e,height:a,width:i}},dim:function(){if(!this.length)return{height:0,width:0};var b=this[0],d=!b.offsetWidth&&!b.offsetHeight?function(d,j){j={position:b.style.position||"",visibility:b.style.visibility||"",display:b.style.display||""};d.first().css({position:"absolute",visibility:"hidden",display:"block"});return j}(this):null,j=b.offsetWidth,i=b.offsetHeight;d&&this.first().css(d);
return{height:i,width:j}},attr:function(b,d){var j=this[0];if(typeof b!="string"&&!(b instanceof String)){for(var i in b)b.hasOwnProperty(i)&&this.attr(i,b[i]);return this}return typeof d=="undefined"?!j?null:k.test(b)?I.test(b)&&typeof j[b]=="string"?!0:j[b]:(b=="href"||b=="src")&&P.hrefExtended?j[O](b,2):j[O](b):this.each(function(j){k.test(b)?j[b]=p(j,d):j[V](b,p(j,d))})},removeAttr:function(b){return this.each(function(d){I.test(b)?d[b]=!1:d.removeAttribute(b)})},val:function(b){return typeof b==
"string"?this.attr("value",b):this.length?this[0].value:null},data:function(b,d){var i=this[0],a,c;if(typeof d==="undefined"){if(!i)return null;a=n(i);return typeof b==="undefined"?(g(i.attributes,function(b){(c=(""+b.name).match(j))&&(a[e(c[1])]=f(b.value))}),a):(typeof a[b]==="undefined"&&(a[b]=f(this.attr("data-"+(b?b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():b)))),a[b])}else return this.each(function(j){n(j)[b]=d})},remove:function(){this.deepEach(h);return this.each(function(b){b[D]&&
b[D].removeChild(b)})},empty:function(){return this.each(function(b){for(c(b.childNodes,h);b.firstChild;)b.removeChild(b.firstChild)})},detach:function(){return this.map(function(b){return b[D].removeChild(b)})},scrollTop:function(b){return u.call(this,null,b,"y")},scrollLeft:function(b){return u.call(this,b,null,"x")}};s.setQueryEngine=function(b){G=b;delete s.setQueryEngine};s.aug=function(b,d){for(var j in b)b.hasOwnProperty(j)&&((d||o.prototype)[j]=b[j])};s.create=function(b){return typeof b==
"string"&&b!==""?function(){var d=/^\s*<([^\s>]+)/.exec(b),j=x.createElement("div"),i=[],a=d?F[d[1].toLowerCase()]:null,c=a?a[2]+1:1,e=a&&a[3],f=D,z=P.autoTbody&&a&&a[0]=="<table>"&&!/<tbody/i.test(b);for(j.innerHTML=a?a[0]+b+a[1]:b;c--;)j=j.firstChild;if(e&&j&&j.nodeType!==1)j=j.nextSibling;do(!d||j.nodeType==1)&&(!z||j.tagName.toLowerCase()!="tbody")&&i.push(j);while(j=j.nextSibling);g(i,function(b){b[f]&&b[f].removeChild(b)});return i}():b&&b.nodeName&&b.nodeType==1?[b.cloneNode(!0)]:[]};s.doc=
function(){var b=s.viewport();return{width:Math.max(x.body.scrollWidth,v.scrollWidth,b.width),height:Math.max(x.body.scrollHeight,v.scrollHeight,b.height)}};s.firstChild=function(b){for(var b=b.childNodes,d=0,j=b&&b.length||0,i;d<j;d++)b[d].nodeType===1&&(i=b[j=d]);return i};s.viewport=function(){return{width:J?v.clientWidth:self.innerWidth,height:J?v.clientHeight:self.innerHeight}};s.isAncestor="compareDocumentPosition"in v?function(b,d){return(b.compareDocumentPosition(d)&16)==16}:"contains"in v?
function(b,d){return b!==d&&b.contains(d)}:function(b,d){for(;d=d[D];)if(d===b)return!0;return!1};return s},this);provide("bonzo",o.exports);(function(g){function c(c){for(var e=[],f=0,a=0,g,m,p;m=c[f];++f){p=!1;for(g=0;g<e.length;++g)if(e[g]===m){p=!0;break}p||(e[a++]=m)}return e}var e=require("bonzo");e.setQueryEngine(g);g.ender(e);g.ender(e(),!0);g.ender({create:function(c){return g(e.create(c))}});g.id=function(c){return g([document.getElementById(c)])};g.ender({parents:function(e,h){if(!this.length)return this;
var f=g(e),a,l,m,p=[];a=0;for(l=this.length;a<l;a++)for(m=this[a];m=m.parentNode;){var o;a:{for(o=0;o<f.length;o++)if(f[o]===m)break a;o=-1}if(~o&&(p.push(m),h))break}return g(c(p))},parent:function(){return g(c(e(this).parent()))},closest:function(c){return this.parents(c,!0)},first:function(){return g(this.length?this[0]:this)},last:function(){return g(this.length?this[this.length-1]:[])},next:function(){return g(e(this).next())},previous:function(){return g(e(this).previous())},appendTo:function(c){return e(this.selector).appendTo(c,
this)},prependTo:function(c){return e(this.selector).prependTo(c,this)},insertAfter:function(c){return e(this.selector).insertAfter(c,this)},insertBefore:function(c){return e(this.selector).insertBefore(c,this)},siblings:function(){var c,e,f,a=[];c=0;for(e=this.length;c<e;c++){for(f=this[c];f=f.previousSibling;)f.nodeType==1&&a.push(f);for(f=this[c];f=f.nextSibling;)f.nodeType==1&&a.push(f)}return g(a)},children:function(){var n,h,f,a=[];n=0;for(h=this.length;n<h;n++)if(f=e.firstChild(this[n]))for(a.push(f);f=
f.nextSibling;)f.nodeType==1&&a.push(f);return g(c(a))},height:function(c){return typeof c=="undefined"?e(this).dim().height:this.css("height",c)},width:function(c){return typeof c=="undefined"?e(this).dim().width:this.css("width",c)}},!0)})(ender)})();
(function(){var o={exports:{}};(function(g,c){typeof o!="undefined"&&o.exports?o.exports=c():typeof define=="function"&&define.amd?define(c):this[g]=c()})("reqwest",function(){function g(a,c,e){return function(){if(a&&a[v]==4)a.onreadystatechange=A,E.test(a.status)?c(a):e(a)}}function c(a){q=a}function e(a,e,f,d){var f=C++,i=a.jsonpCallback||"callback",a=a.jsonpCallbackName||l.getcallbackPrefix(f),z=RegExp("((^|\\?|&)"+i+")=([^&]+)"),b=d.match(z),j=s.createElement("script"),g=0,h=navigator.userAgent.indexOf("MSIE 10.0")!==
-1;b?b[3]==="?"?d=d.replace(z,"$1="+a):a=b[3]:d=d+(/\?/.test(d)?"&":"?")+(i+"="+a);w[a]=c;j.type="text/javascript";j.src=d;j.async=!0;if(typeof j.onreadystatechange!=="undefined"&&!h)j.event="onclick",j.htmlFor=j.id="_reqwest_"+f;j.onload=j.onreadystatechange=function(){if(j[v]&&j[v]!=="complete"&&j[v]!=="loaded"||g)return!1;j.onload=j.onreadystatechange=null;j.onclick&&j.onclick();e(q);q=void 0;k.removeChild(j);g=1};k.appendChild(j)}function n(a,c,f){var d=(a.method||"GET").toUpperCase(),i=typeof a===
"string"?a:a.url,z=a.processData!==!1&&a.data&&typeof a.data!=="string"?l.toQueryString(a.data):a.data||null,b;if((a.type=="jsonp"||d=="GET")&&z)i=i+(/\?/.test(i)?"&":"?")+z,z=null;if(a.type=="jsonp")return e(a,c,f,i);b=I();b.open(d,i,!0);var d=a.headers||{},j;d.Accept=d.Accept||F.accept[a.type]||F.accept["*"];if(!a.crossOrigin&&!d[G])d[G]=F.requestedWith;d[D]||(d[D]=a.contentType||F.contentType);for(j in d)d.hasOwnProperty(j)&&b.setRequestHeader(j,d[j]);if(typeof a.withCredentials!=="undefined"&&
typeof b.withCredentials!=="undefined")b.withCredentials=!!a.withCredentials;b.onreadystatechange=g(b,c,f);a.before&&a.before(b);b.send(z);return b}function h(c,e){this.o=c;this.fn=e;a.apply(this,arguments)}function f(a){return(a=a.match(/\.(json|jsonp|html|xml)(\?|$)/))?a[1]:"js"}function a(a,c){function e(b){a.timeout&&clearTimeout(i.timeout);for(i.timeout=null;i._completeHandlers.length>0;)i._completeHandlers.shift()(b)}function d(b,d,a){i._responseArgs.resp=b;i._responseArgs.msg=d;i._responseArgs.t=
a;for(i._erred=!0;i._errorHandlers.length>0;)i._errorHandlers.shift()(b,d,a);e(b)}this.url=typeof a=="string"?a:a.url;this.timeout=null;this._fulfilled=!1;this._fulfillmentHandlers=[];this._errorHandlers=[];this._completeHandlers=[];this._erred=!1;this._responseArgs={};var i=this,z=a.type||f(this.url),c=c||function(){};if(a.timeout)this.timeout=setTimeout(function(){i.abort()},a.timeout);a.success&&this._fulfillmentHandlers.push(function(){a.success.apply(a,arguments)});a.error&&this._errorHandlers.push(function(){a.error.apply(a,
arguments)});a.complete&&this._completeHandlers.push(function(){a.complete.apply(a,arguments)});this.request=n(a,function(b){var j=b.responseText;if(j)switch(z){case "json":try{b=w.JSON?w.JSON.parse(j):eval("("+j+")")}catch(a){return d(b,"Could not parse JSON in response",a)}break;case "js":b=eval(j);break;case "html":b=j;break;case "xml":b=b.responseXML}i._responseArgs.resp=b;i._fulfilled=!0;for(c(b);i._fulfillmentHandlers.length>0;)i._fulfillmentHandlers.shift()(b);e(b)},d)}function l(a,c){return new h(a,
c)}function m(a){return a?a.replace(/\r?\n/g,"\r\n"):""}function p(a,c){var e=a.name,d=a.tagName.toLowerCase(),i=function(b){b&&!b.disabled&&c(e,m(b.attributes.value&&b.attributes.value.specified?b.value:b.text))};if(!a.disabled&&e)switch(d){case "input":if(!/reset|button|image|file/i.test(a.type)){var i=/checkbox/i.test(a.type),d=/radio/i.test(a.type),f=a.value;(!i&&!d||a.checked)&&c(e,m(i&&f===""?"on":f))}break;case "textarea":c(e,m(a.value));break;case "select":if(a.type.toLowerCase()==="select-one")i(a.selectedIndex>=
0?a.options[a.selectedIndex]:null);else for(d=0;a.length&&d<a.length;d++)a.options[d].selected&&i(a.options[d])}}function o(){var a=this,c,e,d,i=function(i,b){for(var j=0;j<b.length;j++){var c=i[x](b[j]);for(d=0;d<c.length;d++)p(c[d],a)}};for(e=0;e<arguments.length;e++)c=arguments[e],/input|select|textarea/i.test(c.tagName)&&p(c,a),i(c,["input","select","textarea"])}function r(){return l.toQueryString(l.serializeArray.apply(null,arguments))}function u(){var a={};o.apply(function(c,e){c in a?(a[c]&&
!y(a[c])&&(a[c]=[a[c]]),a[c].push(e)):a[c]=e},arguments);return a}var w=window,s=document,E=/^20\d$/,x="getElementsByTagName",v="readyState",D="Content-Type",G="X-Requested-With",k=s[x]("head")[0],C=0,H="reqwest_"+ +new Date,q,A=function(){},y=typeof Array.isArray=="function"?Array.isArray:function(a){return a instanceof Array},F={contentType:"application/x-www-form-urlencoded",requestedWith:"XMLHttpRequest",accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",
html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},I=w.XMLHttpRequest?function(){return new XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")};h.prototype={abort:function(){this.request.abort()},retry:function(){a.call(this,this.o,this.fn)},then:function(a,c){this._fulfilled?a(this._responseArgs.resp):this._erred?c(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(a),
this._errorHandlers.push(c));return this},always:function(a){this._fulfilled||this._erred?a(this._responseArgs.resp):this._completeHandlers.push(a);return this},fail:function(a){this._erred?a(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(a);return this}};l.serializeArray=function(){var a=[];o.apply(function(c,e){a.push({name:c,value:e})},arguments);return a};l.serialize=function(){if(arguments.length===0)return"";var a,c=Array.prototype.slice.call(arguments,
0);(a=c.pop())&&a.nodeType&&c.push(a)&&(a=null);a&&(a=a.type);return(a=="map"?u:a=="array"?l.serializeArray:r).apply(null,c)};l.toQueryString=function(a){var c="",e,d=encodeURIComponent,i=function(b,a){c+=d(b)+"="+d(a)+"&"};if(y(a))for(e=0;a&&e<a.length;e++)i(a[e].name,a[e].value);else for(var f in a)if(Object.hasOwnProperty.call(a,f)){var b=a[f];if(y(b))for(e=0;e<b.length;e++)i(f,b[e]);else i(f,a[f])}return c.replace(/&$/,"").replace(/%20/g,"+")};l.getcallbackPrefix=function(){return H};l.compat=
function(a,c){if(a)a.type&&(a.method=a.type)&&delete a.type,a.dataType&&(a.type=a.dataType),a.jsonpCallback&&(a.jsonpCallbackName=a.jsonpCallback)&&delete a.jsonpCallback,a.jsonp&&(a.jsonpCallback=a.jsonp);return new h(a,c)};return l});provide("reqwest",o.exports);(function(g){var c=require("reqwest"),e=function(e){return function(){var f=(this&&this.length>0?this:[]).concat(Array.prototype.slice.call(arguments,0));return c[e].apply(null,f)}},n=e("serialize"),e=e("serializeArray");g.ender({ajax:c,
serialize:n,serializeArray:e,toQueryString:c.toQueryString});g.ender({serialize:n,serializeArray:e},!0)})(ender)})();
(function(){var o={exports:{}};(function(g,c,e){typeof o!="undefined"&&o.exports?o.exports=e():typeof define=="function"&&define.amd?define(e):c[g]=e()})("bean",this,function(g,c){var g=g||"bean",c=c||this,e=window,n=c[g],h=/[^\.]*(?=\..*)\.|.*/,f=/\..*/,a=document||{},l=a.documentElement||{},m=l.addEventListener,p=m?"addEventListener":"attachEvent",o={},r=Array.prototype.slice,u=function(a,d){return a.split(d||" ")},w=function(a,d,i){for(i=0;i<d.length;i++)d[i]&&(a[d[i]]=1);return a}({},u("click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll "+
(m?"show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinputreadystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ":
""))),s=function(){var a="compareDocumentPosition"in l?function(d,a){return a.compareDocumentPosition&&(a.compareDocumentPosition(d)&16)===16}:"contains"in l?function(d,a){a=a.nodeType===9||a===window?l:a;return a!==d&&a.contains(d)}:function(d,a){for(;d=d.parentNode;)if(d===a)return 1;return 0},d=function(d){d=d.relatedTarget;return!d?d==null:d!==this&&d.prefix!=="xul"&&!/document/.test(this.toString())&&!a(d,this)};return{mouseenter:{base:"mouseover",condition:d},mouseleave:{base:"mouseout",condition:d},
mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),E=function(){var c=u("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),d=c.concat(u("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),i=d.concat(u("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),
f=c.concat(u("char charCode key keyCode keyIdentifier keyLocation location")),b=c.concat(u("data")),j=c.concat(u("touches targetTouches changedTouches scale rotation")),g=c.concat(u("data origin source")),k=c.concat(u("state")),h=/over|out/,m=[{reg:/key/i,fix:function(b,d){d.keyCode=b.keyCode||b.which;return f}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(b,j,i){j.rightClick=b.which===3||b.button===2;j.pos={x:0,y:0};if(b.pageX||b.pageY)j.clientX=b.pageX,j.clientY=b.pageY;else if(b.clientX||
b.clientY)j.clientX=b.clientX+a.body.scrollLeft+l.scrollLeft,j.clientY=b.clientY+a.body.scrollTop+l.scrollTop;if(h.test(i))j.relatedTarget=b.relatedTarget||b[(i=="mouseover"?"from":"to")+"Element"];return d}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return i}},{reg:/^text/i,fix:function(){return b}},{reg:/^touch|^gesture/i,fix:function(){return j}},{reg:/^message$/i,fix:function(){return g}},{reg:/^popstate$/i,fix:function(){return k}},{reg:/.*/,fix:function(){return c}}],n={},p=function(b,d,
j){if(arguments.length&&(this.originalEvent=b=b||((d.ownerDocument||d.document||d).parentWindow||e).event,this.isNative=j,this.isBean=!0,b)){var a=b.type,i=b.target||b.srcElement,c,f,t;this.target=i&&i.nodeType===3?i.parentNode:i;if(j){t=n[a];if(!t){i=0;for(c=m.length;i<c;i++)if(m[i].reg.test(a)){n[a]=t=m[i].fix;break}}a=t(b,this,a);for(i=a.length;i--;)if(!((f=a[i])in this)&&f in b)this[f]=b[f]}}};p.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():
this.originalEvent.returnValue=!1};p.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0};p.prototype.stop=function(){this.preventDefault();this.stopPropagation();this.stopped=!0};p.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation();this.isImmediatePropagationStopped=function(){return!0}};p.prototype.isImmediatePropagationStopped=
function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()};p.prototype.clone=function(b){var d=new p(this,this.element,this.isNative);d.currentTarget=b;return d};return p}(),x=function(){var c=function(d,a,b,j){var c=b?function(c){var e=a.__beanDel?a.__beanDel.ft(c.target,d):this;if(b.apply(e,arguments)){if(c)c.currentTarget=e;return a.apply(d,j?r.call(arguments,c?0:1).concat(j):arguments)}}:function(b){a.__beanDel&&(b=b.clone(a.__beanDel?
a.__beanDel.ft(b.target,d):void 0));return a.apply(d,j?r.call(arguments,b?0:1).concat(j):arguments)};c.__beanDel=a.__beanDel;return c},d=function(d,f,b,j,g,k,h){var n=s[f];f=="unload"&&(b=H(q,d,f,b,j));n&&(n.condition&&(b=c(d,b,n.condition,k)),f=n.base||f);this.isNative=n=w[f]&&!!d[p];this.customType=!m&&!n&&f;this.element=d;this.type=f;this.original=j;this.namespaces=g;this.eventType=m||n?f:"propertychange";this.target=!m&&!n&&(d===a||d===e)?l:d;this[p]=!!this.target[p];this.root=h;this.handler=
c(d,b,null,k)};d.prototype.inNamespaces=function(d){var a,b,j=0;if(!d)return!0;if(!this.namespaces)return!1;for(a=d.length;a--;)for(b=this.namespaces.length;b--;)d[a]==this.namespaces[b]&&j++;return d.length===j};d.prototype.matches=function(d,a,b){return this.element===d&&(!a||this.original===a)&&(!b||this.handler===b)};return d}(),v=function(){var a={},d=function(i,c,b,j,e,f){var g=e?"r":"$";if(!c||c=="*")for(var k in a)k.charAt(0)==g&&d(i,k.substr(1),b,j,e,f);else{e=0;k=a[g+c];var h=i=="*";if(k)for(g=
k.length;e<g;e++)if((h||k[e].matches(i,b,j))&&!f(k[e],k,e,c))break}};return{has:function(d,c,b,j){if(j=a[(j?"r":"$")+c])for(c=j.length;c--;)if(!j[c].root&&j[c].matches(d,b,null))return!0;return!1},get:function(a,c,b,j){var e=[];d(a,c,b,null,j,function(b){return e.push(b)});return e},put:function(d){var c=!d.root&&!this.has(d.element,d.type,null,!1),b=(d.root?"r":"$")+d.type;(a[b]||(a[b]=[])).push(d);return c},del:function(i){d(i.element,i.type,null,i.handler,i.root,function(d,b,j){b.splice(j,1);d.removed=
!0;b.length===0&&delete a[(d.root?"r":"$")+d.type];return!1})},entries:function(){var d,c=[];for(d in a)d.charAt(0)=="$"&&(c=c.concat(a[d]));return c}}}(),D,G=function(c){D=arguments.length?c:a.querySelectorAll?function(d,a){return a.querySelectorAll(d)}:function(){throw Error("Bean: No selector engine installed");}},k=function(a,d){if(m||!d||!(a&&a.propertyName!="_on"+d)){var i=v.get(this,d||a.type,null,!1),c=i.length,b=0,a=new E(a,this,!0);if(d)a.type=d;for(;b<c&&!a.isImmediatePropagationStopped();b++)i[b].removed||
i[b].handler.call(this,a)}},C=m?function(a,d,i){a[i?"addEventListener":"removeEventListener"](d,k,!1)}:function(a,d,i,c){if(i)v.put(d=new x(a,c||d,function(b){k.call(a,b,c)},k,null,null,!0)),c&&a["_on"+c]==null&&(a["_on"+c]=0),d.target.attachEvent("on"+d.eventType,d.handler);else if(d=v.get(a,c||d,k,!0)[0])d.target.detachEvent("on"+d.eventType,d.handler),v.del(d)},H=function(a,d,i,c,b){return function(){c.apply(this,arguments);a(d,i,b)}},q=function(a,d,i,c){var d=d&&d.replace(f,""),d=v.get(a,d,null,
!1),b={},j,e;j=0;for(e=d.length;j<e;j++)if((!i||d[j].original===i)&&d[j].inNamespaces(c))v.del(d[j]),!b[d[j].eventType]&&d[j][p]&&(b[d[j].eventType]={t:d[j].eventType,c:d[j].type});for(j in b)v.has(a,b[j].t,null,!1)||C(a,b[j].t,!1,b[j].c)},A=function(a,d){var i=function(b,d){for(var i,c=typeof a=="string"?D(a,d):a;b&&b!==d;b=b.parentNode)for(i=c.length;i--;)if(c[i]===b)return b},c=function(b){var a=i(b.target,this);a&&d.apply(a,arguments)};c.__beanDel={ft:i,selector:a};return c},y=m?function(c,d,
i){var f=a.createEvent(c?"HTMLEvents":"UIEvents");f[c?"initEvent":"initUIEvent"](d,!0,!0,e,1);i.dispatchEvent(f)}:function(c,d,i){i=!m&&!c&&(i===a||i===e)?l:i;c?i.fireEvent("on"+d,a.createEventObject()):i["_on"+d]++},F=function(a,d,i){var c=typeof d=="string",b,j;if(c&&d.indexOf(" ")>0){d=u(d);for(j=d.length;j--;)F(a,d[j],i);return a}if((j=c&&d.replace(f,""))&&s[j])j=s[j].base;if(!d||c){if(d=c&&d.replace(h,""))d=u(d,".");q(a,j,i,d)}else if(typeof d=="function")q(a,null,d);else for(b in d)d.hasOwnProperty(b)&&
F(a,b,d[b]);return a},I=function(a,d,i,c){var b,j,e,g,k,m;if(i===void 0&&typeof d=="object")for(b in d)d.hasOwnProperty(b)&&I.call(this,a,b,d[b]);else{typeof i=="function"?(g=r.call(arguments,3),c=b=i):(b=c,g=r.call(arguments,4),c=A(i,b,D));j=u(d);this===o&&(c=H(F,a,d,c,b));for(e=j.length;e--;)m=v.put(k=new x(a,j[e].replace(f,""),c,b,u(j[e].replace(h,""),"."),g,!1)),k[p]&&m&&C(a,k.eventType,!0,k.customType);return a}},J={on:I,add:function(a,d,i,c){return I.apply(null,typeof i!="string"?r.call(arguments):
[a,i,d,c].concat(arguments.length>3?r.call(arguments,5):[]))},one:function(){return I.apply(o,arguments)},off:F,remove:F,clone:function(a,d,c){for(var d=v.get(d,c,null,!1),c=d.length,e=0,b,j;e<c;e++)if(d[e].original)b=[a,d[e].type],(j=d[e].handler.__beanDel)&&b.push(j.selector),b.push(d[e].original),I.apply(null,b);return a},fire:function(a,d,c){var e=u(d),b,j,g,k;for(b=e.length;b--;){d=e[b].replace(f,"");if(g=e[b].replace(h,""))g=u(g,".");if(!g&&!c&&a[p])y(w[d],d,a);else{k=v.get(a,d,null,!1);c=[!1].concat(c);
d=0;for(j=k.length;d<j;d++)k[d].inNamespaces(g)&&k[d].handler.apply(a,c)}}return a},setSelectorEngine:G,noConflict:function(){c[g]=n;return this}};if(e.attachEvent){var K=function(){var a,d=v.entries();for(a in d)d[a].type&&d[a].type!=="unload"&&F(d[a].element,d[a].type);e.detachEvent("onunload",K);e.CollectGarbage&&e.CollectGarbage()};e.attachEvent("onunload",K)}G();return J});provide("bean",o.exports);(function(g){for(var c=require("bean"),e=function(a,e){var f=e?[e]:[];return function(){for(var g=
0,h=this.length;g<h;g++)!arguments.length&&a=="on"&&e&&(a="fire"),c[a].apply(this,[this[g]].concat(f,Array.prototype.slice.call(arguments,0)));return this}},n=e("add"),h=e("on"),f=e("one"),a=e("off"),l=e("fire"),m=e("clone"),n={on:h,addListener:h,bind:h,listen:h,delegate:n,one:f,off:a,unbind:a,unlisten:a,removeListener:a,undelegate:a,emit:l,trigger:l,cloneEvents:m,hover:function(a,e,f){for(f=this.length;f--;)c.on.call(this,this[f],"mouseenter",a),c.on.call(this,this[f],"mouseleave",e);return this}},
h="blur change click dblclick error focus focusin focusout keydown keypress keyup load mousedown mouseenter mouseleave mouseout mouseover mouseup mousemove resize scroll select submit unload".split(" "),f=h.length;f--;)n[h[f]]=e("on",h[f]);c.setSelectorEngine(g);g.ender(n,!0)})(ender)})();window.Modernizr=function(o,g,c){var e={},n=g.documentElement,h=g.createElement("modernizr"),h=h.style,f=" -webkit- -moz- -o- -ms- ".split(" "),a={},l=[],m=l.slice,p,B=function(a,c,e,f){var h,m,k=g.createElement("div"),l=g.body,p=l||g.createElement("body");if(parseInt(e,10))for(;e--;)h=g.createElement("div"),h.id=f?f[e]:"modernizr"+(e+1),k.appendChild(h);e=['&#173;<style id="smodernizr">',a,"</style>"].join("");k.id="modernizr";(l?k:p).innerHTML+=e;p.appendChild(k);if(!l)p.style.background="",p.style.overflow=
"hidden",m=n.style.overflow,n.style.overflow="hidden",n.appendChild(p);a=c(k,a);l?k.parentNode.removeChild(k):(p.parentNode.removeChild(p),n.style.overflow=m);return!!a},r={}.hasOwnProperty,u;u=typeof r!=="undefined"&&typeof r.call!=="undefined"?function(a,c){return r.call(a,c)}:function(a,c){return c in a&&typeof a.constructor.prototype[c]==="undefined"};if(!Function.prototype.bind)Function.prototype.bind=function(a){var c=this;if(typeof c!="function")throw new TypeError;var e=m.call(arguments,1),
f=function(){if(this instanceof f){var g=function(){};g.prototype=c.prototype;var g=new g,h=c.apply(g,e.concat(m.call(arguments)));if(Object(h)===h)return h;return g}else return c.apply(a,e.concat(m.call(arguments)))};return f};a.touch=function(){var a;"ontouchstart"in o||o.DocumentTouch&&g instanceof DocumentTouch?a=!0:B(["@media (",f.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),function(c){a=c.offsetTop===9});return a};a.localstorage=function(){try{return localStorage.setItem("modernizr",
"modernizr"),localStorage.removeItem("modernizr"),!0}catch(a){return!1}};a.sessionstorage=function(){try{return sessionStorage.setItem("modernizr","modernizr"),sessionStorage.removeItem("modernizr"),!0}catch(a){return!1}};for(var w in a)u(a,w)&&(p=w.toLowerCase(),e[p]=a[w](),l.push((e[p]?"":"no-")+p));e.addTest=function(a,f){if(typeof a=="object")for(var g in a)u(a,g)&&e.addTest(g,a[g]);else{a=a.toLowerCase();if(e[a]!==c)return e;f=typeof f=="function"?f():f;typeof!0!=="undefined"&&(n.className+=
" "+(f?"":"no-")+a);e[a]=f}return e};h.cssText="";h=null;e._version="2.6.2";e._prefixes=f;e.testStyles=B;n.className=n.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+l.join(" "));return e}(this,this.document);Modernizr.addTest("contenteditable","contentEditable"in document.documentElement);/*
 MIT License (c) copyright B Cavalier & J Hann */
(function(o){o(function(){function g(a,e,f,g){return c(a).then(e,f,g)}function c(c){var g;if(!(c instanceof e))a(c)?(g=f(),c.then(function(a){g.resolve(a)},function(a){g.reject(a)},function(a){g.progress(a)}),c=g.promise):c=n(c);return c}function e(a){this.then=a}function n(a){return new e(function(e){try{return c(e?e(a):a)}catch(f){return h(f)}})}function h(a){return new e(function(e,f){try{return f?c(f(a)):h(a)}catch(g){return h(g)}})}function f(){function a(c,e,f){return w(c,e,f)}function g(a){return s(a)}
function m(a){return s(h(a))}function k(a){return r(a)}var n,l,p,w,r,s;n=new e(a);n={then:a,resolve:g,reject:m,progress:k,promise:n,resolver:{resolve:g,reject:m,progress:k}};l=[];p=[];w=function(a,c,e){var g,d;g=f();d=typeof e==="function"?function(d){try{g.progress(e(d))}catch(a){g.progress(a)}}:function(d){g.progress(d)};l.push(function(i){i.then(a,c).then(g.resolve,g.reject,d)});p.push(d);return g.promise};r=function(a){o(p,a);return a};s=function(a){a=c(a);w=a.then;s=c;r=u;o(l,a);p=l=x;return a};
return n}function a(a){return a&&typeof a.then==="function"}function l(a,c,e,k,h){r(2,arguments);return g(a,function(a){function m(b){d(b)}function n(b){r(b)}var l,p,o,w,B,r,d,i,z,b;z=a.length>>>0;l=Math.max(0,Math.min(c,z));o=[];p=z-l+1;w=[];B=f();if(l){i=B.progress;d=function(b){w.push(b);--p||(r=d=u,B.reject(w))};r=function(b){o.push(b);--l||(r=d=u,B.resolve(o))};for(b=0;b<z;++b)b in a&&g(a[b],n,m,i)}else B.resolve(o);return B.then(e,k,h)})}function m(a,c,e,f){r(1,arguments);return p(a,w).then(c,
e,f)}function p(a,c){return g(a,function(a){var e,h,m,n,l,p;m=h=a.length>>>0;e=[];p=f();if(m){n=function(a,f){g(a,c).then(function(a){e[f]=a;--m||p.resolve(e)},p.reject)};for(l=0;l<h;l++)l in a?n(a[l],l):--m}else p.resolve(e);return p.promise})}function o(a,c){for(var e,f=0;e=a[f++];)e(c)}function r(a,c){for(var e,f=c.length;f>a;)if(e=c[--f],e!=null&&typeof e!="function")throw Error("arg "+f+" must be a function");}function u(){}function w(a){return a}var s,E,x;g.defer=f;g.resolve=c;g.reject=function(a){return g(a,
h)};g.join=function(){return p(arguments,w)};g.all=m;g.map=p;g.reduce=function(a,c){var e=E.call(arguments,1);return g(a,function(a){var f;f=a.length;e[0]=function(a,e,h){return g(a,function(a){return g(e,function(e){return c(a,e,h,f)})})};return s.apply(a,e)})};g.any=function(a,c,e,f){return l(a,1,function(a){return c?c(a[0]):a[0]},e,f)};g.some=l;g.chain=function(a,c,e){var f=arguments.length>2;return g(a,function(a){a=f?e:a;c.resolve(a);return a},function(a){c.reject(a);return h(a)},c.progress)};
g.isPromise=a;e.prototype={always:function(a,c){return this.then(a,a,c)},otherwise:function(a){return this.then(x,a)},yield:function(a){return this.then(function(){return a})},spread:function(a){return this.then(function(c){return m(c,function(c){return a.apply(x,c)})})}};E=[].slice;s=[].reduce||function(a){var c,e,f,g,h;h=0;c=Object(this);g=c.length>>>0;e=arguments;if(e.length<=1)for(;;){if(h in c){f=c[h++];break}if(++h>=g)throw new TypeError;}else f=e[1];for(;h<g;++h)h in c&&(f=a(f,c[h],h,c));return f};
return g})})(function(o){typeof exports==="object"?module.exports=o():this.when=o()});(function(){var o=this,g=o._,c={},e=Array.prototype,n=Object.prototype,h=e.push,f=e.slice,a=e.concat,l=n.toString,m=n.hasOwnProperty,p=e.forEach,B=e.map,r=e.reduce,u=e.reduceRight,w=e.filter,s=e.every,E=e.some,x=e.indexOf,v=e.lastIndexOf,n=Array.isArray,D=Object.keys,G=Function.prototype.bind,k=function(b){if(b instanceof k)return b;if(!(this instanceof k))return new k(b);this._wrapped=b};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports)exports=module.exports=k;exports._=
k}else o._=k;k.VERSION="1.4.2";var C=k.each=k.forEach=function(b,d,a){if(b!=null)if(p&&b.forEach===p)b.forEach(d,a);else if(b.length===+b.length)for(var i=0,e=b.length;i<e;i++){if(d.call(a,b[i],i,b)===c)break}else for(i in b)if(k.has(b,i)&&d.call(a,b[i],i,b)===c)break};k.map=k.collect=function(b,d,a){var c=[];if(b==null)return c;if(B&&b.map===B)return b.map(d,a);C(b,function(b,i,e){c[c.length]=d.call(a,b,i,e)});return c};k.reduce=k.foldl=k.inject=function(b,d,a,c){var i=arguments.length>2;b==null&&
(b=[]);if(r&&b.reduce===r)return c&&(d=k.bind(d,c)),i?b.reduce(d,a):b.reduce(d);C(b,function(b,e,f){i?a=d.call(c,a,b,e,f):(a=b,i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return a};k.reduceRight=k.foldr=function(b,d,a,c){var i=arguments.length>2;b==null&&(b=[]);if(u&&b.reduceRight===u)return c&&(d=k.bind(d,c)),arguments.length>2?b.reduceRight(d,a):b.reduceRight(d);var e=b.length;if(e!==+e)var f=k.keys(b),e=f.length;C(b,function(g,h,k){h=f?f[--e]:--e;i?a=d.call(c,
a,b[h],h,k):(a=b[h],i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return a};k.find=k.detect=function(b,d,a){var c;H(b,function(b,i,e){if(d.call(a,b,i,e))return c=b,!0});return c};k.filter=k.select=function(b,d,a){var c=[];if(b==null)return c;if(w&&b.filter===w)return b.filter(d,a);C(b,function(b,i,e){d.call(a,b,i,e)&&(c[c.length]=b)});return c};k.reject=function(b,d,a){var c=[];if(b==null)return c;C(b,function(b,i,e){d.call(a,b,i,e)||(c[c.length]=b)});return c};
k.every=k.all=function(b,d,a){d||(d=k.identity);var i=!0;if(b==null)return i;if(s&&b.every===s)return b.every(d,a);C(b,function(b,e,f){if(!(i=i&&d.call(a,b,e,f)))return c});return!!i};var H=k.some=k.any=function(b,d,a){d||(d=k.identity);var i=!1;if(b==null)return i;if(E&&b.some===E)return b.some(d,a);C(b,function(b,e,f){if(i||(i=d.call(a,b,e,f)))return c});return!!i};k.contains=k.include=function(b,d){var a=!1;if(b==null)return a;if(x&&b.indexOf===x)return b.indexOf(d)!=-1;return a=H(b,function(b){return b===
d})};k.invoke=function(b,d){var a=f.call(arguments,2);return k.map(b,function(b){return(k.isFunction(d)?d:b[d]).apply(b,a)})};k.pluck=function(b,d){return k.map(b,function(b){return b[d]})};k.where=function(b,d){if(k.isEmpty(d))return[];return k.filter(b,function(b){for(var a in d)if(d[a]!==b[a])return!1;return!0})};k.max=function(b,d,a){if(!d&&k.isArray(b)&&b[0]===+b[0]&&b.length<65535)return Math.max.apply(Math,b);if(!d&&k.isEmpty(b))return-Infinity;var c={computed:-Infinity};C(b,function(b,i,e){i=
d?d.call(a,b,i,e):b;i>=c.computed&&(c={value:b,computed:i})});return c.value};k.min=function(b,d,a){if(!d&&k.isArray(b)&&b[0]===+b[0]&&b.length<65535)return Math.min.apply(Math,b);if(!d&&k.isEmpty(b))return Infinity;var c={computed:Infinity};C(b,function(b,i,e){i=d?d.call(a,b,i,e):b;i<c.computed&&(c={value:b,computed:i})});return c.value};k.shuffle=function(b){var d,a=0,c=[];C(b,function(b){d=k.random(a++);c[a-1]=c[d];c[d]=b});return c};var q=function(b){return k.isFunction(b)?b:function(d){return d[b]}};
k.sortBy=function(b,d,a){var c=q(d);return k.pluck(k.map(b,function(b,d,j){return{value:b,index:d,criteria:c.call(a,b,d,j)}}).sort(function(b,d){var a=b.criteria,c=d.criteria;if(a!==c){if(a>c||a===void 0)return 1;if(a<c||c===void 0)return-1}return b.index<d.index?-1:1}),"value")};var A=function(b,d,a,c){var i={},e=q(d);C(b,function(d,j){var f=e.call(a,d,j,b);c(i,f,d)});return i};k.groupBy=function(b,d,a){return A(b,d,a,function(b,d,a){(k.has(b,d)?b[d]:b[d]=[]).push(a)})};k.countBy=function(b,d,a){return A(b,
d,a,function(b,d){k.has(b,d)||(b[d]=0);b[d]++})};k.sortedIndex=function(b,d,a,c){for(var a=a==null?k.identity:q(a),d=a.call(c,d),i=0,e=b.length;i<e;){var f=i+e>>>1;a.call(c,b[f])<d?i=f+1:e=f}return i};k.toArray=function(b){if(!b)return[];if(b.length===+b.length)return f.call(b);return k.values(b)};k.size=function(b){return b.length===+b.length?b.length:k.keys(b).length};k.first=k.head=k.take=function(b,d,a){return d!=null&&!a?f.call(b,0,d):b[0]};k.initial=function(b,d,a){return f.call(b,0,b.length-
(d==null||a?1:d))};k.last=function(b,d,a){return d!=null&&!a?f.call(b,Math.max(b.length-d,0)):b[b.length-1]};k.rest=k.tail=k.drop=function(b,d,a){return f.call(b,d==null||a?1:d)};k.compact=function(b){return k.filter(b,function(b){return!!b})};var y=function(b,d,a){C(b,function(b){k.isArray(b)?d?h.apply(a,b):y(b,d,a):a.push(b)});return a};k.flatten=function(b,d){return y(b,d,[])};k.without=function(b){return k.difference(b,f.call(arguments,1))};k.uniq=k.unique=function(b,d,a,c){var a=a?k.map(b,a,
c):b,i=[],e=[];C(a,function(a,c){if(d?!c||e[e.length-1]!==a:!k.contains(e,a))e.push(a),i.push(b[c])});return i};k.union=function(){return k.uniq(a.apply(e,arguments))};k.intersection=function(b){var d=f.call(arguments,1);return k.filter(k.uniq(b),function(b){return k.every(d,function(d){return k.indexOf(d,b)>=0})})};k.difference=function(b){var d=a.apply(e,f.call(arguments,1));return k.filter(b,function(b){return!k.contains(d,b)})};k.zip=function(){for(var b=f.call(arguments),d=k.max(k.pluck(b,"length")),
a=Array(d),c=0;c<d;c++)a[c]=k.pluck(b,""+c);return a};k.object=function(b,d){for(var a={},c=0,i=b.length;c<i;c++)d?a[b[c]]=d[c]:a[b[c][0]]=b[c][1];return a};k.indexOf=function(b,d,a){if(b==null)return-1;var c=0,i=b.length;if(a)if(typeof a=="number")c=a<0?Math.max(0,i+a):a;else return c=k.sortedIndex(b,d),b[c]===d?c:-1;if(x&&b.indexOf===x)return b.indexOf(d,a);for(;c<i;c++)if(b[c]===d)return c;return-1};k.lastIndexOf=function(b,d,a){if(b==null)return-1;var c=a!=null;if(v&&b.lastIndexOf===v)return c?
b.lastIndexOf(d,a):b.lastIndexOf(d);for(a=c?a:b.length;a--;)if(b[a]===d)return a;return-1};k.range=function(b,d,a){arguments.length<=1&&(d=b||0,b=0);for(var a=arguments[2]||1,c=Math.max(Math.ceil((d-b)/a),0),i=0,e=Array(c);i<c;)e[i++]=b,b+=a;return e};var F=function(){};k.bind=function(b,d){var a,c;if(b.bind===G&&G)return G.apply(b,f.call(arguments,1));if(!k.isFunction(b))throw new TypeError;c=f.call(arguments,2);return a=function(){if(!(this instanceof a))return b.apply(d,c.concat(f.call(arguments)));
F.prototype=b.prototype;var i=new F,e=b.apply(i,c.concat(f.call(arguments)));if(Object(e)===e)return e;return i}};k.bindAll=function(b){var d=f.call(arguments,1);d.length==0&&(d=k.functions(b));C(d,function(d){b[d]=k.bind(b[d],b)});return b};k.memoize=function(b,d){var a={};d||(d=k.identity);return function(){var c=d.apply(this,arguments);return k.has(a,c)?a[c]:a[c]=b.apply(this,arguments)}};k.delay=function(b,d){var a=f.call(arguments,2);return setTimeout(function(){return b.apply(null,a)},d)};k.defer=
function(b){return k.delay.apply(k,[b,1].concat(f.call(arguments,1)))};k.throttle=function(b,d){var a,c,i,e,f,g,h=k.debounce(function(){f=e=!1},d);return function(){a=this;c=arguments;var k;i||(i=setTimeout(function(){i=null;f&&(g=b.apply(a,c));h()},d));e?f=!0:(e=!0,g=b.apply(a,c));h();return g}};k.debounce=function(b,d,a){var c,i;return function(){var e=this,f=arguments,g=a&&!c;clearTimeout(c);c=setTimeout(function(){c=null;a||(i=b.apply(e,f))},d);g&&(i=b.apply(e,f));return i}};k.once=function(b){var d=
!1,a;return function(){if(d)return a;d=!0;a=b.apply(this,arguments);b=null;return a}};k.wrap=function(b,d){return function(){var a=[b];h.apply(a,arguments);return d.apply(this,a)}};k.compose=function(){var b=arguments;return function(){for(var d=arguments,a=b.length-1;a>=0;a--)d=[b[a].apply(this,d)];return d[0]}};k.after=function(b,d){if(b<=0)return d();return function(){if(--b<1)return d.apply(this,arguments)}};k.keys=D||function(b){if(b!==Object(b))throw new TypeError("Invalid object");var d=[],
a;for(a in b)k.has(b,a)&&(d[d.length]=a);return d};k.values=function(b){var d=[],a;for(a in b)k.has(b,a)&&d.push(b[a]);return d};k.pairs=function(b){var d=[],a;for(a in b)k.has(b,a)&&d.push([a,b[a]]);return d};k.invert=function(b){var d={},a;for(a in b)k.has(b,a)&&(d[b[a]]=a);return d};k.functions=k.methods=function(b){var d=[],a;for(a in b)k.isFunction(b[a])&&d.push(a);return d.sort()};k.extend=function(b){C(f.call(arguments,1),function(d){for(var a in d)b[a]=d[a]});return b};k.pick=function(b){var d=
{},c=a.apply(e,f.call(arguments,1));C(c,function(a){a in b&&(d[a]=b[a])});return d};k.omit=function(b){var d={},c=a.apply(e,f.call(arguments,1)),i;for(i in b)k.contains(c,i)||(d[i]=b[i]);return d};k.defaults=function(b){C(f.call(arguments,1),function(d){for(var a in d)b[a]==null&&(b[a]=d[a])});return b};k.clone=function(b){if(!k.isObject(b))return b;return k.isArray(b)?b.slice():k.extend({},b)};k.tap=function(b,d){d(b);return b};var I=function(b,d,a,c){if(b===d)return b!==0||1/b==1/d;if(b==null||
d==null)return b===d;if(b instanceof k)b=b._wrapped;if(d instanceof k)d=d._wrapped;var i=l.call(b);if(i!=l.call(d))return!1;switch(i){case "[object String]":return b==String(d);case "[object Number]":return b!=+b?d!=+d:b==0?1/b==1/d:b==+d;case "[object Date]":case "[object Boolean]":return+b==+d;case "[object RegExp]":return b.source==d.source&&b.global==d.global&&b.multiline==d.multiline&&b.ignoreCase==d.ignoreCase}if(typeof b!="object"||typeof d!="object")return!1;for(var e=a.length;e--;)if(a[e]==
b)return c[e]==d;a.push(b);c.push(d);var e=0,f=!0;if(i=="[object Array]"){if(e=b.length,f=e==d.length)for(;e--;)if(!(f=I(b[e],d[e],a,c)))break}else{var i=b.constructor,g=d.constructor;if(i!==g&&(!k.isFunction(i)||!(i instanceof i&&k.isFunction(g)&&g instanceof g)))return!1;for(var h in b)if(k.has(b,h)&&(e++,!(f=k.has(d,h)&&I(b[h],d[h],a,c))))break;if(f){for(h in d)if(k.has(d,h)&&!e--)break;f=!e}}a.pop();c.pop();return f};k.isEqual=function(b,d){return I(b,d,[],[])};k.isEmpty=function(b){if(b==null)return!0;
if(k.isArray(b)||k.isString(b))return b.length===0;for(var d in b)if(k.has(b,d))return!1;return!0};k.isElement=function(b){return!!(b&&b.nodeType===1)};k.isArray=n||function(b){return l.call(b)=="[object Array]"};k.isObject=function(b){return b===Object(b)};C(["Arguments","Function","String","Number","Date","RegExp"],function(b){k["is"+b]=function(d){return l.call(d)=="[object "+b+"]"}});if(!k.isArguments(arguments))k.isArguments=function(b){return!(!b||!k.has(b,"callee"))};if(typeof/./!=="function")k.isFunction=
function(b){return typeof b==="function"};k.isFinite=function(b){return k.isNumber(b)&&isFinite(b)};k.isNaN=function(b){return k.isNumber(b)&&b!=+b};k.isBoolean=function(b){return b===!0||b===!1||l.call(b)=="[object Boolean]"};k.isNull=function(b){return b===null};k.isUndefined=function(b){return b===void 0};k.has=function(b,d){return m.call(b,d)};k.noConflict=function(){o._=g;return this};k.identity=function(b){return b};k.times=function(b,d,a){for(var c=0;c<b;c++)d.call(a,c)};k.random=function(b,
d){d==null&&(d=b,b=0);return b+(0|Math.random()*(d-b+1))};var J={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};J.unescape=k.invert(J.escape);var K={escape:RegExp("["+k.keys(J.escape).join("")+"]","g"),unescape:RegExp("("+k.keys(J.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(b){k[b]=function(d){if(d==null)return"";return(""+d).replace(K[b],function(d){return J[b][d]})}});k.result=function(b,d){if(b==null)return null;var a=b[d];return k.isFunction(a)?
a.call(b):a};k.mixin=function(b){C(k.functions(b),function(d){var a=k[d]=b[d];k.prototype[d]=function(){var b=[this._wrapped];h.apply(b,arguments);b=a.apply(k,b);return this._chain?k(b).chain():b}})};var L=0;k.uniqueId=function(b){var d=L++;return b?b+d:d};k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var d=/(.)^/,i={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=
function(b,a,c){var c=k.defaults({},c,k.templateSettings),e=RegExp([(c.escape||d).source,(c.interpolate||d).source,(c.evaluate||d).source].join("|")+"|$","g"),f=0,g="__p+='";b.replace(e,function(d,a,c,e,j){g+=b.slice(f,j).replace(z,function(b){return"\\"+i[b]});g+=a?"'+\n((__t=("+a+"))==null?'':_.escape(__t))+\n'":c?"'+\n((__t=("+c+"))==null?'':__t)+\n'":e?"';\n"+e+"\n__p+='":"";f=j+d.length});g+="';\n";c.variable||(g="with(obj||{}){\n"+g+"}\n");g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+
g+"return __p;\n";try{var h=new Function(c.variable||"obj","_",g)}catch(m){throw m.source=g,m;}if(a)return h(a,k);a=function(b){return h.call(this,b,k)};a.source="function("+(c.variable||"obj")+"){\n"+g+"}";return a};k.chain=function(b){return k(b).chain()};k.mixin(k);C(["pop","push","reverse","shift","sort","splice","unshift"],function(b){var d=e[b];k.prototype[b]=function(){var a=this._wrapped;d.apply(a,arguments);(b=="shift"||b=="splice")&&a.length===0&&delete a[0];return this._chain?k(a).chain():
a}});C(["concat","join","slice"],function(b){var d=e[b];k.prototype[b]=function(){var b=d.apply(this._wrapped,arguments);return this._chain?k(b).chain():b}});k.extend(k.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this);(function(o){function g(a){var c=u[a]={},e,f,a=a.split(/\s+/);e=0;for(f=a.length;e<f;e++)c[a[e]]=!0;return c}var c={},e=Array.prototype,n=Object.prototype,h=n.hasOwnProperty,f=n.toString,a=e.forEach,l=e.slice,m=function(e,f,g){var m,n;if(e)if(a&&e.forEach===a)e.forEach(f,g);else if(e.length===+e.length){m=0;for(n=e.length;m<n;m++)if(m in e&&f.call(g,e[m],m,e)===c)break}else for(m in e)if(h.call(e,m)&&f.call(g,e[m],m,e)===c)break},p=function(a){return!(!a||!a.constructor||!a.call||!a.apply)},B={"[object Array]":"array",
"[object Function]":"function"};"done fail isResolved isRejected promise then always pipe".split(" ");var r={},u={};r.Callbacks=function(a){var a=a?u[a]||g(a):{},c=[],e=[],h,m,n,l,k,p=function(e){var g,h,m,k;g=0;for(h=e.length;g<h;g++)m=e[g],k=!m?String(m):B[f.call(m)]||"object",k==="array"?p(m):k==="function"&&(!a.unique||!r.has(m))&&c.push(m)},o=function(f,g){g=g||[];h=!a.memory||[f,g];m=!0;k=n||0;n=0;for(l=c.length;c&&k<l;k++)if(c[k].apply(f,g)===!1&&a.stopOnFalse){h=!0;break}m=!1;c&&(a.once?h===
!0?r.disable():c=[]:e&&e.length&&(h=e.shift(),r.fireWith(h[0],h[1])))},r={add:function(){if(c){var a=c.length;p(arguments);m?l=c.length:h&&h!==!0&&(n=a,o(h[0],h[1]))}return this},remove:function(){if(c)for(var e=arguments,f=0,g=e.length;f<g;f++)for(var h=0;h<c.length;h++)if(e[f]===c[h]&&(m&&h<=l&&(l--,h<=k&&k--),c.splice(h--,1),a.unique))break;return this},has:function(a){if(c)for(var e=0,f=c.length;e<f;e++)if(a===c[e])return!0;return!1},empty:function(){c=[];return this},disable:function(){c=e=h=
void 0;return this},disabled:function(){return!c},lock:function(){e=void 0;(!h||h===!0)&&r.disable();return this},locked:function(){return!e},fireWith:function(c,f){e&&(m?a.once||e.push([c,f]):(!a.once||!h)&&o(c,f));return this},fire:function(){r.fireWith(this,arguments);return this},fired:function(){return!!h}};return r};r.Deferred=function(a){var c=r.Callbacks("once memory"),e=r.Callbacks("once memory"),f=r.Callbacks("memory"),g="pending",h={resolve:c,reject:e,notify:f},n={done:c.add,fail:e.add,
progress:f.add,state:function(){return g},isResolved:c.fired,isRejected:e.fired,then:function(a,c,e){k.done(a).fail(c).progress(e);return this},always:function(){k.done.apply(k,arguments).fail.apply(k,arguments);return this},pipe:function(a,c,e){return r.Deferred(function(f){m({done:[a,"resolve"],fail:[c,"reject"],progress:[e,"notify"]},function(a,c){var e=a[0],g=a[1],h;if(p(e))k[c](function(){if((h=e.apply(this,arguments))&&p(h.promise))h.promise().then(f.resolve,f.reject,f.notify);else f[g+"With"](this===
k?f:this,[h])});else k[c](f[g])})}).promise()},promise:function(a){if(a)for(var c in n)a[c]=n[c];else a=n;return a}},k=n.promise({}),l;for(l in h)k[l]=h[l].fire,k[l+"With"]=h[l].fireWith;k.done(function(){g="resolved"},e.disable,f.lock).fail(function(){g="rejected"},c.disable,f.lock);a&&a.call(k,k);return k};r.when=function(a){function c(a){return function(c){f[a]=arguments.length>1?l.call(arguments,0):c;--k||n.resolveWith(n,f)}}function e(a){return function(c){m[a]=arguments.length>1?l.call(arguments,
0):c;n.notifyWith(o,m)}}var f=l.call(arguments,0),g=0,h=f.length,m=Array(h),k=h,n=h<=1&&a&&p(a.promise)?a:r.Deferred(),o=n.promise();if(h>1){for(;g<h;g++)f[g]&&f[g].promise&&p(f[g].promise)?f[g].promise().then(c(g),n.reject,e(g)):--k;k||n.resolveWith(n,f)}else n!==a&&n.resolveWith(n,h?[a]:[]);return o};typeof module!=="undefined"&&module.exports?module.exports=r:typeof o._!=="undefined"?o._.mixin(r):o._=r})(this);(function(o){o.strip=function(g){var c=document.createElement("DIV");c.innerHTML=g;return c.textContent||c.innerText};o.truncate=function(g,c,e){return g.length>c?g.slice(0,c)+(e||"..."):g};o.pluralize=function(g,c,e){return g===1?c:e};o.chainedDefer=function(){return function(g,c,e){o.defer(function(){g.length&&(c.call(e,g.shift()),o.chainedDefer(g,c,e))})}}();o.decorate=function(){var g=o.toArray(arguments),c=g.pop(),e;o.isFunction(c)||(e=c,c=g.pop());return o.reduceRight(g,function(c,g){return g.call(e||
this,c)},function(){return c.apply(e||this,arguments)})}})(_);(function(){var o=this,g=o.Backbone,c=[],e=c.push,n=c.slice,h=c.splice,f;f=typeof exports!=="undefined"?exports:o.Backbone={};f.VERSION="1.0.0";var a=o._;!a&&typeof require!=="undefined"&&(a=require("underscore"));f.$=o.jQuery||o.Zepto||o.ender||o.$;f.noConflict=function(){o.Backbone=g;return this};f.emulateHTTP=!1;f.emulateJSON=!1;var l=f.Events={on:function(d,a,c){if(!p(this,"on",d,[a,c])||!a)return this;this._events||(this._events={});(this._events[d]||(this._events[d]=[])).push({callback:a,context:c,
ctx:c||this});return this},once:function(d,c,e){if(!p(this,"once",d,[c,e])||!c)return this;var b=this,f=a.once(function(){b.off(d,f);c.apply(this,arguments)});f._callback=c;return this.on(d,f,e)},off:function(d,c,e){var b,f,g,h,m,k,n,l;if(!this._events||!p(this,"off",d,[c,e]))return this;if(!d&&!c&&!e)return this._events={},this;h=d?[d]:a.keys(this._events);m=0;for(k=h.length;m<k;m++)if(d=h[m],g=this._events[d]){this._events[d]=b=[];if(c||e){n=0;for(l=g.length;n<l;n++)f=g[n],(c&&c!==f.callback&&c!==
f.callback._callback||e&&e!==f.context)&&b.push(f)}b.length||delete this._events[d]}return this},trigger:function(d){if(!this._events)return this;var a=n.call(arguments,1);if(!p(this,"trigger",d,a))return this;var c=this._events[d],b=this._events.all;c&&B(c,a);b&&B(b,arguments);return this},stopListening:function(d,a,c){var b=this._listeners;if(!b)return this;var e=!a&&!c;typeof a==="object"&&(c=this);d&&((b={})[d._listenerId]=d);for(var f in b)b[f].off(a,c,this),e&&delete this._listeners[f];return this}},
m=/\s+/,p=function(a,c,e,b){if(!e)return!0;if(typeof e==="object"){for(var f in e)a[c].apply(a,[f,e[f]].concat(b));return!1}if(m.test(e)){e=e.split(m);f=0;for(var g=e.length;f<g;f++)a[c].apply(a,[e[f]].concat(b));return!1}return!0},B=function(a,c){var e,b=-1,f=a.length,g=c[0],h=c[1],m=c[2];switch(c.length){case 0:for(;++b<f;)(e=a[b]).callback.call(e.ctx);break;case 1:for(;++b<f;)(e=a[b]).callback.call(e.ctx,g);break;case 2:for(;++b<f;)(e=a[b]).callback.call(e.ctx,g,h);break;case 3:for(;++b<f;)(e=
a[b]).callback.call(e.ctx,g,h,m);break;default:for(;++b<f;)(e=a[b]).callback.apply(e.ctx,c)}};a.each({listenTo:"on",listenToOnce:"once"},function(d,c){l[c]=function(c,b,e){var i=this._listeners||(this._listeners={}),f=c._listenerId||(c._listenerId=a.uniqueId("l"));i[f]=c;typeof b==="object"&&(e=this);c[d](b,e,this);return this}});l.bind=l.on;l.unbind=l.off;a.extend(f,l);var r=f.Model=function(d,c){var e,b=d||{};c||(c={});this.cid=a.uniqueId("c");this.attributes={};a.extend(this,a.pick(c,u));c.parse&&
(b=this.parse(b,c)||{});if(e=a.result(this,"defaults"))b=a.defaults({},b,e);this.set(b,c);this.changed={};this.initialize.apply(this,arguments)},u=["url","urlRoot","collection"];a.extend(r.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},sync:function(){return f.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(d){return a.escape(this.get(d))},has:function(a){return this.get(a)!=
null},set:function(d,c,e){var b,f,g,h,m,k,n;if(d==null)return this;typeof d==="object"?(f=d,e=c):(f={})[d]=c;e||(e={});if(!this._validate(f,e))return!1;g=e.unset;h=e.silent;d=[];m=this._changing;this._changing=!0;if(!m)this._previousAttributes=a.clone(this.attributes),this.changed={};n=this.attributes;k=this._previousAttributes;if(this.idAttribute in f)this.id=f[this.idAttribute];for(b in f)c=f[b],a.isEqual(n[b],c)||d.push(b),a.isEqual(k[b],c)?delete this.changed[b]:this.changed[b]=c,g?delete n[b]:
n[b]=c;if(!h){if(d.length)this._pending=!0;c=0;for(b=d.length;c<b;c++)this.trigger("change:"+d[c],this,n[d[c]],e)}if(m)return this;if(!h)for(;this._pending;)this._pending=!1,this.trigger("change",this,e);this._changing=this._pending=!1;return this},unset:function(d,c){return this.set(d,void 0,a.extend({},c,{unset:!0}))},clear:function(d){var c={},e;for(e in this.attributes)c[e]=void 0;return this.set(c,a.extend({},d,{unset:!0}))},hasChanged:function(d){if(d==null)return!a.isEmpty(this.changed);return a.has(this.changed,
d)},changedAttributes:function(d){if(!d)return this.hasChanged()?a.clone(this.changed):!1;var c,e=!1,b=this._changing?this._previousAttributes:this.attributes,f;for(f in d)if(!a.isEqual(b[f],c=d[f]))(e||(e={}))[f]=c;return e},previous:function(a){if(a==null||!this._previousAttributes)return null;return this._previousAttributes[a]},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(d){d=d?a.clone(d):{};if(d.parse===void 0)d.parse=!0;var c=this,e=d.success;d.success=
function(b){if(!c.set(c.parse(b,d),d))return!1;e&&e(c,b,d);c.trigger("sync",c,b,d)};L(this,d);return this.sync("read",this,d)},save:function(d,c,e){var b,f=this.attributes;d==null||typeof d==="object"?(b=d,e=c):(b={})[d]=c;if(b&&(!e||!e.wait)&&!this.set(b,e))return!1;e=a.extend({validate:!0},e);if(!this._validate(b,e))return!1;if(b&&e.wait)this.attributes=a.extend({},f,b);if(e.parse===void 0)e.parse=!0;var g=this,h=e.success;e.success=function(d){g.attributes=f;var c=g.parse(d,e);e.wait&&(c=a.extend(b||
{},c));if(a.isObject(c)&&!g.set(c,e))return!1;h&&h(g,d,e);g.trigger("sync",g,d,e)};L(this,e);d=this.isNew()?"create":e.patch?"patch":"update";if(d==="patch")e.attrs=b;d=this.sync(d,this,e);if(b&&e.wait)this.attributes=f;return d},destroy:function(d){var d=d?a.clone(d):{},c=this,e=d.success,b=function(){c.trigger("destroy",c,c.collection,d)};d.success=function(a){(d.wait||c.isNew())&&b();e&&e(c,a,d);c.isNew()||c.trigger("sync",c,a,d)};if(this.isNew())return d.success(),!1;L(this,d);var f=this.sync("delete",
this,d);d.wait||b();return f},url:function(){var d=a.result(this,"urlRoot")||a.result(this.collection,"url")||K();if(this.isNew())return d;return d+(d.charAt(d.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(d){return this._validate({},a.extend(d||{},{validate:!0}))},_validate:function(d,c){if(!c.validate||!this.validate)return!0;var d=a.extend({},
this.attributes,d),e=this.validationError=this.validate(d,c)||null;if(!e)return!0;this.trigger("invalid",this,e,a.extend(c||{},{validationError:e}));return!1}});a.each(["keys","values","pairs","invert","pick","omit"],function(d){r.prototype[d]=function(){var c=n.call(arguments);c.unshift(this.attributes);return a[d].apply(a,c)}});var w=f.Collection=function(d,c){c||(c={});if(c.url)this.url=c.url;if(c.model)this.model=c.model;if(c.comparator!==void 0)this.comparator=c.comparator;this._reset();this.initialize.apply(this,
arguments);d&&this.reset(d,a.extend({silent:!0},c))},s={add:!0,remove:!0,merge:!0},E={add:!0,merge:!1,remove:!1};a.extend(w.prototype,l,{model:r,initialize:function(){},toJSON:function(a){return this.map(function(c){return c.toJSON(a)})},sync:function(){return f.sync.apply(this,arguments)},add:function(d,c){return this.set(d,a.defaults(c||{},E))},remove:function(d,c){d=a.isArray(d)?d.slice():[d];c||(c={});var e,b,f,g;e=0;for(b=d.length;e<b;e++)if(g=this.get(d[e])){delete this._byId[g.id];delete this._byId[g.cid];
f=this.indexOf(g);this.models.splice(f,1);this.length--;if(!c.silent)c.index=f,g.trigger("remove",g,this,c);this._removeReference(g)}return this},set:function(d,c){c=a.defaults(c||{},s);c.parse&&(d=this.parse(d,c));a.isArray(d)||(d=d?[d]:[]);var f,b,g,m,k,n=c.at,l=this.comparator&&n==null&&c.sort!==!1,p=a.isString(this.comparator)?this.comparator:null,o=[],r=[],B={};f=0;for(b=d.length;f<b;f++)if(g=this._prepareModel(d[f],c))(m=this.get(g))?(c.remove&&(B[m.cid]=!0),c.merge&&(m.set(g.attributes,c),
l&&!k&&m.hasChanged(p)&&(k=!0))):c.add&&(o.push(g),g.on("all",this._onModelEvent,this),this._byId[g.cid]=g,g.id!=null&&(this._byId[g.id]=g));if(c.remove){f=0;for(b=this.length;f<b;++f)B[(g=this.models[f]).cid]||r.push(g);r.length&&this.remove(r,c)}o.length&&(l&&(k=!0),this.length+=o.length,n!=null?h.apply(this.models,[n,0].concat(o)):e.apply(this.models,o));k&&this.sort({silent:!0});if(c.silent)return this;f=0;for(b=o.length;f<b;f++)(g=o[f]).trigger("add",g,this,c);k&&this.trigger("sort",this,c);
return this},reset:function(d,c){c||(c={});for(var e=0,b=this.models.length;e<b;e++)this._removeReference(this.models[e]);c.previousModels=this.models;this._reset();this.add(d,a.extend({silent:!0},c));c.silent||this.trigger("reset",this,c);return this},push:function(d,c){d=this._prepareModel(d,c);this.add(d,a.extend({at:this.length},c));return d},pop:function(a){var c=this.at(this.length-1);this.remove(c,a);return c},unshift:function(d,c){d=this._prepareModel(d,c);this.add(d,a.extend({at:0},c));return d},
shift:function(a){var c=this.at(0);this.remove(c,a);return c},slice:function(a,c){return this.models.slice(a,c)},get:function(a){if(a!=null)return this._byId[a.id!=null?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(d,c){if(a.isEmpty(d))return c?void 0:[];return this[c?"find":"filter"](function(a){for(var b in d)if(d[b]!==a.get(b))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(d){if(!this.comparator)throw Error("Cannot sort a set without a comparator");
d||(d={});a.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(a.bind(this.comparator,this));d.silent||this.trigger("sort",this,d);return this},sortedIndex:function(d,c,e){c||(c=this.comparator);var b=a.isFunction(c)?c:function(b){return b.get(c)};return a.sortedIndex(this.models,d,b,e)},pluck:function(d){return a.invoke(this.models,"get",d)},fetch:function(d){d=d?a.clone(d):{};if(d.parse===void 0)d.parse=!0;var c=d.success,e=this;
d.success=function(b){e[d.reset?"reset":"set"](b,d);c&&c(e,b,d);e.trigger("sync",e,b,d)};L(this,d);return this.sync("read",this,d)},create:function(d,c){c=c?a.clone(c):{};if(!(d=this._prepareModel(d,c)))return!1;c.wait||this.add(d,c);var e=this,b=c.success;c.success=function(a){c.wait&&e.add(d,c);b&&b(d,a,c)};d.save(null,c);return d},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,
c){if(a instanceof r){if(!a.collection)a.collection=this;return a}c||(c={});c.collection=this;var e=new this.model(a,c);if(!e._validate(a,c))return this.trigger("invalid",this,a,c),!1;return e},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,c,e,b){(a==="add"||a==="remove")&&e!==this||(a==="destroy"&&this.remove(c,b),c&&a==="change:"+c.idAttribute&&(delete this._byId[c.previous(c.idAttribute)],c.id!=null&&(this._byId[c.id]=
c)),this.trigger.apply(this,arguments))}});a.each(["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"],function(d){w.prototype[d]=function(){var c=n.call(arguments);c.unshift(this.models);return a[d].apply(a,c)}});a.each(["groupBy",
"countBy","sortBy"],function(d){w.prototype[d]=function(c,e){var b=a.isFunction(c)?c:function(b){return b.get(c)};return a[d](this.models,b,e)}});var c=f.View=function(d){this.cid=a.uniqueId("view");this._configure(d||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},x=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];a.extend(c.prototype,l,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},
render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,c){this.$el&&this.undelegateEvents();this.$el=a instanceof f.$?a:f.$(a);this.el=this.$el[0];c!==!1&&this.delegateEvents();return this},delegateEvents:function(d){if(!d&&!(d=a.result(this,"events")))return this;this.undelegateEvents();for(var c in d){var e=d[c];a.isFunction(e)||(e=this[d[c]]);if(e){var b=c.match(x),f=b[1],b=b[2],e=a.bind(e,this);f+=".delegateEvents"+this.cid;if(b===
"")this.$el.on(f,e);else this.$el.on(f,b,e)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(d){this.options&&(d=a.extend({},a.result(this,"options"),d));a.extend(this,a.pick(d,v));this.options=d},_ensureElement:function(){if(this.el)this.setElement(a.result(this,"el"),!1);else{var d=a.extend({},a.result(this,"attributes"));if(this.id)d.id=a.result(this,"id");this.className&&(d["class"]=a.result(this,"className"));this.setElement(f.$("<"+
a.result(this,"tagName")+">").attr(d),!1)}}});f.sync=function(d,c,e){var b=D[d];a.defaults(e||(e={}),{emulateHTTP:f.emulateHTTP,emulateJSON:f.emulateJSON});var g={type:b,dataType:"json"};if(!e.url)g.url=a.result(c,"url")||K();if(e.data==null&&c&&(d==="create"||d==="update"||d==="patch"))g.contentType="application/json",g.data=JSON.stringify(e.attrs||c.toJSON(e));if(e.emulateJSON)g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{};if(e.emulateHTTP&&(b==="PUT"||b==="DELETE"||
b==="PATCH")){g.type="POST";if(e.emulateJSON)g.data._method=b;var h=e.beforeSend;e.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",b);if(h)return h.apply(this,arguments)}}if(g.type!=="GET"&&!e.emulateJSON)g.processData=!1;if(g.type==="PATCH"&&window.ActiveXObject&&(!window.external||!window.external.msActiveXFilteringEnabled))g.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")};d=e.xhr=f.ajax(a.extend(g,e));c.trigger("request",c,d,e);return d};var D={create:"POST",update:"PUT",
patch:"PATCH","delete":"DELETE",read:"GET"};f.ajax=function(){return f.$.ajax.apply(f.$,arguments)};var G=f.Router=function(a){a||(a={});if(a.routes)this.routes=a.routes;this._bindRoutes();this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,H=/\*\w+/g,q=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(G.prototype,l,{initialize:function(){},route:function(d,c,e){a.isRegExp(d)||(d=this._routeToRegExp(d));a.isFunction(c)&&(e=c,c="");e||(e=this[c]);var b=this;f.history.route(d,function(a){a=b._extractParameters(d,
a);e&&e.apply(b,a);b.trigger.apply(b,["route:"+c].concat(a));b.trigger("route",c,a);f.history.trigger("route",b,c,a)});return this},navigate:function(a,c){f.history.navigate(a,c);return this},_bindRoutes:function(){if(this.routes){this.routes=a.result(this,"routes");for(var d,c=a.keys(this.routes);(d=c.pop())!=null;)this.route(d,this.routes[d])}},_routeToRegExp:function(a){a=a.replace(q,"\\$&").replace(k,"(?:$1)?").replace(C,function(a,d){return d?a:"([^/]+)"}).replace(H,"(.*?)");return RegExp("^"+
a+"$")},_extractParameters:function(d,c){var e=d.exec(c).slice(1);return a.map(e,function(b){return b?decodeURIComponent(b):null})}});var A=f.History=function(){this.handlers=[];a.bindAll(this,"checkUrl");if(typeof window!=="undefined")this.location=window.location,this.history=window.history},y=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,I=/msie [\w.]+/,J=/\/$/;A.started=!1;a.extend(A.prototype,l,{interval:50,getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,
c){if(a==null)if(this._hasPushState||!this._wantsHashChange||c){var a=this.location.pathname,e=this.root.replace(J,"");a.indexOf(e)||(a=a.substr(e.length))}else a=this.getHash();return a.replace(y,"")},start:function(d){if(A.started)throw Error("Backbone.history has already been started");A.started=!0;this.options=a.extend({},{root:"/"},this.options,d);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==!1;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||
!this.history||!this.history.pushState);var d=this.getFragment(),c=document.documentMode,c=I.exec(navigator.userAgent.toLowerCase())&&(!c||c<=7);this.root=("/"+this.root+"/").replace(F,"/");if(c&&this._wantsHashChange)this.iframe=f.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(d);if(this._hasPushState)f.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!c)f.$(window).on("hashchange",this.checkUrl);
else if(this._wantsHashChange)this._checkUrlInterval=setInterval(this.checkUrl,this.interval);this.fragment=d;d=this.location;c=d.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!c)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;else if(this._wantsPushState&&this._hasPushState&&c&&d.hash)this.fragment=this.getHash().replace(y,""),this.history.replaceState({},
document.title,this.root+this.fragment+d.search);if(!this.options.silent)return this.loadUrl()},stop:function(){f.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);A.started=!1},route:function(a,c){this.handlers.unshift({route:a,callback:c})},checkUrl:function(){var a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()||
this.loadUrl(this.getHash())},loadUrl:function(d){var c=this.fragment=this.getFragment(d);return a.any(this.handlers,function(a){if(a.route.test(c))return a.callback(c),!0})},navigate:function(a,c){if(!A.started)return!1;if(!c||c===!0)c={trigger:c};a=this.getFragment(a||"");if(this.fragment!==a){this.fragment=a;var e=this.root+a;if(this._hasPushState)this.history[c.replace?"replaceState":"pushState"]({},document.title,e);else if(this._wantsHashChange)this._updateHash(this.location,a,c.replace),this.iframe&&
a!==this.getFragment(this.getHash(this.iframe))&&(c.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,c.replace));else return this.location.assign(e);c.trigger&&this.loadUrl(a)}},_updateHash:function(a,c,e){e?(e=a.href.replace(/(javascript:|#).*$/,""),a.replace(e+"#"+c)):a.hash="#"+c}});f.history=new A;r.extend=w.extend=G.extend=c.extend=A.extend=function(c,e){var f=this,b;b=c&&a.has(c,"constructor")?c.constructor:function(){return f.apply(this,arguments)};a.extend(b,
f,e);var g=function(){this.constructor=b};g.prototype=f.prototype;b.prototype=new g;c&&a.extend(b.prototype,c);b.__super__=f.prototype;return b};var K=function(){throw Error('A "url" property or function must be specified');},L=function(a,c){var e=c.error;c.error=function(b){e&&e(a,b,c);a.trigger("error",a,b,c)}}}).call(this);(function(o){o.View.prototype.delegateActions=function(g,c){var e=this;g.delegate("[data-action]","click",function(g){g.preventDefault();var h=$(g.currentTarget).attr("data-action");if(h=c[h])if(typeof h==="function")h.call(e,g);else e[h](g)})};o.when=function(){var g=_.toArray(arguments),g=_.map(g,function(c){var e=new _.Deferred;c[0].on(c[1],function(){e.resolve()});return e.promise()});return _.when.apply(this,g)};o.collectionAddNormalizer=function(g,c){return function(e){return function(n,h,f){if(n instanceof
g)f=h,h=n,n=h.models;else if(n instanceof c)n=[n];else if(!_.isArray(n))throw"Unknown model: "+typeof n;return e.call(this,n,h,f||{})}}}})(Backbone);this.Handlebars={};
(function(o){o.VERSION="1.0.rc.2";o.COMPILER_REVISION=2;o.REVISION_CHANGES={1:"<= 1.0.rc.2",2:">= 1.0.rc.3"};o.helpers={};o.partials={};o.registerHelper=function(c,e,g){if(g)e.not=g;this.helpers[c]=e};o.registerPartial=function(c,e){this.partials[c]=e};o.registerHelper("helperMissing",function(c){if(arguments.length!==2)throw Error("Could not find property '"+c+"'");});var g=Object.prototype.toString;o.registerHelper("blockHelperMissing",function(c,e){var n=e.inverse||function(){},h=e.fn,f=g.call(c);
f==="[object Function]"&&(c=c.call(this));return c===!0?h(this):c===!1||c==null?n(this):f==="[object Array]"?c.length>0?o.helpers.each(c,e):n(this):h(c)});o.K=function(){};o.createFrame=Object.create||function(c){o.K.prototype=c;c=new o.K;o.K.prototype=null;return c};o.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(c,e){if(o.logger.level<=c){var g=o.logger.methodMap[c];typeof console!=="undefined"&&console[g]&&console[g].call(console,e)}}};
o.log=function(c,e){o.logger.log(c,e)};o.registerHelper("each",function(c,e){var g=e.fn,h=e.inverse,f=0,a="",l;e.data&&(l=o.createFrame(e.data));if(c&&typeof c==="object")if(c instanceof Array)for(var m=c.length;f<m;f++){if(l)l.index=f;a+=g(c[f],{data:l})}else for(m in c)if(c.hasOwnProperty(m)){if(l)l.key=m;a+=g(c[m],{data:l});f++}f===0&&(a=h(this));return a});o.registerHelper("if",function(c,e){g.call(c)==="[object Function]"&&(c=c.call(this));return!c||o.Utils.isEmpty(c)?e.inverse(this):e.fn(this)});
o.registerHelper("unless",function(c,e){var g=e.fn;e.fn=e.inverse;e.inverse=g;return o.helpers["if"].call(this,c,e)});o.registerHelper("with",function(c,e){return e.fn(c)});o.registerHelper("log",function(c,e){var g=e.data&&e.data.level!=null?parseInt(e.data.level,10):1;o.log(g,c)})})(this.Handlebars);var errorProps=["description","fileName","lineNumber","message","name","number","stack"];
Handlebars.Exception=function(){for(var o=Error.prototype.constructor.apply(this,arguments),g=0;g<errorProps.length;g++)this[errorProps[g]]=o[errorProps[g]]};Handlebars.Exception.prototype=Error();Handlebars.SafeString=function(o){this.string=o};Handlebars.SafeString.prototype.toString=function(){return this.string.toString()};
(function(){var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},g=/[&<>"'`]/g,c=/[&<>"'`]/,e=function(c){return o[c]||"&amp;"};Handlebars.Utils={escapeExpression:function(n){if(n instanceof Handlebars.SafeString)return n.toString();else if(n==null||n===!1)return"";if(!c.test(n))return n;return n.replace(g,e)},isEmpty:function(c){return!c&&c!==0?!0:Object.prototype.toString.call(c)==="[object Array]"&&c.length===0?!0:!1}}})();
Handlebars.VM={template:function(o){var g={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(c,e,g){var h=this.programs[c];return g?Handlebars.VM.program(e,g):(h||(h=this.programs[c]=Handlebars.VM.program(e)),h)},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop,compilerInfo:null};return function(c,e){var e=e||{},n=o.call(g,Handlebars,c,e.helpers,e.partials,e.data),h=g.compilerInfo||[],f=h[0]||1,a=Handlebars.COMPILER_REVISION;
if(f!==a)if(f<a)throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+Handlebars.REVISION_CHANGES[a]+") or downgrade your runtime to an older version ("+Handlebars.REVISION_CHANGES[f]+").";else throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+h[1]+").";return n}},programWithDepth:function(o,g){var c=Array.prototype.slice.call(arguments,
2);return function(e,n){n=n||{};return o.apply(this,[e,n.data||g].concat(c))}},program:function(o,g){return function(c,e){e=e||{};return o(c,e.data||g)}},noop:function(){return""},invokePartial:function(o,g,c,e,n,h){e={helpers:e,partials:n,data:h};if(o===void 0)throw new Handlebars.Exception("The partial "+g+" could not be found");else if(o instanceof Function)return o(c,e);else if(Handlebars.compile)return n[g]=Handlebars.compile(o,{data:h!==void 0}),n[g](c,e);else throw new Handlebars.Exception("The partial "+
g+" could not be compiled when running in runtime-only mode");}};Handlebars.template=Handlebars.VM.template;(function(){var o=Handlebars.Utils;Handlebars.registerHelper("ifIn",function(){var g=arguments.length,c=arguments[g-1],e=arguments[0],n=!1,h;if(g>2)if(Object.prototype.toString.call(arguments[1])==="[object Array]"){var f=arguments[1],g=f.length;for(h=0;h<g;h++)if(f[h]===e){n=!0;break}}else for(h=1;h<g-1;h++)if(arguments[h]===e){n=!0;break}if(n)return c.fn(this);return c.inverse(this)});Handlebars.registerHelper("ifNotIn",function(){var g=arguments[arguments.length-1],c=g.fn;g.fn=g.inverse;g.inverse=
c;return Handlebars.helpers.ifIn.apply(this,arguments)});Handlebars.registerHelper("ifRegex",function(g,c,e){if(RegExp(g,"g").test(c))return e.fn(this);return e.inverse(this)});Handlebars.registerHelper("any",function(){for(var g=arguments.length,c=0;c<g-1;c++)if(arguments[c])return arguments[c]});Handlebars.registerHelper("t",function(){var g=arguments[arguments.length-1],c=g.hash,e=arguments[0],n=window.Handlebars.partials,h,f,a,l;for(a in c)c.hasOwnProperty(a)&&(f=RegExp("%\\(("+a+")\\)s","gm"),
(l=(h=c[a])&&h.executePartial)&&(h=n[h.partial].call(this,h.context,g)),h===void 0||h===null||typeof h==="number"&&isNaN(h)?h="":l||(h=o.escapeExpression(h)),e=e.replace(f,h.toString()));return new Handlebars.SafeString(e)});Handlebars.registerHelper("g",function(g,c){for(var e=c.data,n=g.split("."),h=n.length,f=0;e.hasOwnProperty(n[f])&&f<h;)e=e[n[f]],f++;return e});Handlebars.registerHelper("html",function(g){return new Handlebars.SafeString(g||"")});Handlebars.registerHelper("partial",function(g,
c){Handlebars.registerPartial(g,c.fn)});Handlebars.registerHelper("with",function(){var g=arguments.length,c=arguments[g-1],e=arguments[0];if(g===3)e={},e[arguments[0]]=arguments[1];else if(e==="_window_")e=window;else if(e==="_global_")e=c.data;return c.fn(e)});Handlebars.registerHelper("math",function(g,c,e){switch(e.hash.op){case "multiply":return g*c;case "sum":return g+c;default:return 0}});Handlebars.registerHelper("each",function(g,c){var e=c.fn,n=c.inverse,h=0,f="",a;c.data&&(a=Handlebars.createFrame(c.data));
if(g&&typeof g==="object")if(Object.prototype.toString.call(g)==="[object Array]")for(var l=g.length;h<l;h++){if(a)a.index=h,a.length=g.length;f+=e(g[h],{data:a})}else for(l in g)if(g.hasOwnProperty(l)){if(a)a.key=l;f+=e(g[l],{data:a});h++}h===0&&(f=n(this));return f});Handlebars.registerHelper("log",function(g){window.console.log(g,this)});Handlebars.registerHelper("debug",function(){debugger});Handlebars.registerHelper("truncate",function(g,c){if(g.length<=c)return g;return new Handlebars.SafeString(o.escapeExpression(g.slice(0,
c))+"&hellip;")})})();(function(o){o.fn.autoresize=function(g){var c=_.extend({extraSpace:0,maxHeight:1E3},g);return this.each(function(){var e=o(this).css({resize:"none",overflow:"hidden"}),g=String(e[0].contentEditable)==="true"?"html":"val",h=g==="html"?"<br>":"\n",f=e.height(),a=function(){var a={};_.each(a,function(c,f){a[f]=e.css(f)});var c=o(e[0].cloneNode(!0));c.removeAttr("id").removeAttr("name").css({visibility:"hidden",position:"absolute",top:0,left:"100%",contentEditable:!1}).css(a).attr("tabIndex","-1");c.insertAfter(e[0]);
return c}(),l=null,m=function(){a[0].style.height=0;a[g](e[g]()+h);a.scrollTop(a[0].scrollHeight);var m=Math.max(a[0].scrollHeight,f)+parseInt(c.extraSpace,10);if(c.maxHeight)m>=c.maxHeight?(e.css("overflow",""),m=c.maxHeight):e.css("overflow","hidden");l!==m&&(l=m,e.height(m),e.trigger&&e.trigger("resize"))},p=_.throttle(m,500);e.bind("keyup",function(a){a.keyCode===13?m():p()}).bind("paste",m).css("overflow","hidden");m()})}})($);var md5=function(){function o(c,e,a,g,m,p){c=n(n(e,c),n(g,p));return n(c<<m|c>>>32-m,a)}function g(c,e,a,g,m,n,B){return o(e&a|~e&g,c,e,m,n,B)}function c(c,e,a,g,m,n,B){return o(e&g|a&~g,c,e,m,n,B)}function e(c,e,a,g,m,n,B){return o(a^(e|~g),c,e,m,n,B)}function n(c,e){var a=(c&65535)+(e&65535);return(c>>16)+(e>>16)+(a>>16)<<16|a&65535}return function(h){for(var f="",a=-1,l,m;++a<h.length;)l=h.charCodeAt(a),m=a+1<h.length?h.charCodeAt(a+1):0,55296<=l&&l<=56319&&56320<=m&&m<=57343&&(l=65536+((l&1023)<<
10)+(m&1023),a++),l<=127?f+=String.fromCharCode(l):l<=2047?f+=String.fromCharCode(192|l>>>6&31,128|l&63):l<=65535?f+=String.fromCharCode(224|l>>>12&15,128|l>>>6&63,128|l&63):l<=2097151&&(f+=String.fromCharCode(240|l>>>18&7,128|l>>>12&63,128|l>>>6&63,128|l&63));h=Array(f.length>>2);for(a=0;a<h.length;a++)h[a]=0;for(a=0;a<f.length*8;a+=8)h[a>>5]|=(f.charCodeAt(a/8)&255)<<a%32;f=f.length*8;h[f>>5]|=128<<f%32;h[(f+64>>>9<<4)+14]=f;f=1732584193;a=-271733879;l=-1732584194;m=271733878;for(var p=0;p<h.length;p+=
16){var B=f,r=a,u=l,w=m,f=g(f,a,l,m,h[p+0],7,-680876936);m=g(m,f,a,l,h[p+1],12,-389564586);l=g(l,m,f,a,h[p+2],17,606105819);a=g(a,l,m,f,h[p+3],22,-1044525330);f=g(f,a,l,m,h[p+4],7,-176418897);m=g(m,f,a,l,h[p+5],12,1200080426);l=g(l,m,f,a,h[p+6],17,-1473231341);a=g(a,l,m,f,h[p+7],22,-45705983);f=g(f,a,l,m,h[p+8],7,1770035416);m=g(m,f,a,l,h[p+9],12,-1958414417);l=g(l,m,f,a,h[p+10],17,-42063);a=g(a,l,m,f,h[p+11],22,-1990404162);f=g(f,a,l,m,h[p+12],7,1804603682);m=g(m,f,a,l,h[p+13],12,-40341101);l=g(l,
m,f,a,h[p+14],17,-1502002290);a=g(a,l,m,f,h[p+15],22,1236535329);f=c(f,a,l,m,h[p+1],5,-165796510);m=c(m,f,a,l,h[p+6],9,-1069501632);l=c(l,m,f,a,h[p+11],14,643717713);a=c(a,l,m,f,h[p+0],20,-373897302);f=c(f,a,l,m,h[p+5],5,-701558691);m=c(m,f,a,l,h[p+10],9,38016083);l=c(l,m,f,a,h[p+15],14,-660478335);a=c(a,l,m,f,h[p+4],20,-405537848);f=c(f,a,l,m,h[p+9],5,568446438);m=c(m,f,a,l,h[p+14],9,-1019803690);l=c(l,m,f,a,h[p+3],14,-187363961);a=c(a,l,m,f,h[p+8],20,1163531501);f=c(f,a,l,m,h[p+13],5,-1444681467);
m=c(m,f,a,l,h[p+2],9,-51403784);l=c(l,m,f,a,h[p+7],14,1735328473);a=c(a,l,m,f,h[p+12],20,-1926607734);f=o(a^l^m,f,a,h[p+5],4,-378558);m=o(f^a^l,m,f,h[p+8],11,-2022574463);l=o(m^f^a,l,m,h[p+11],16,1839030562);a=o(l^m^f,a,l,h[p+14],23,-35309556);f=o(a^l^m,f,a,h[p+1],4,-1530992060);m=o(f^a^l,m,f,h[p+4],11,1272893353);l=o(m^f^a,l,m,h[p+7],16,-155497632);a=o(l^m^f,a,l,h[p+10],23,-1094730640);f=o(a^l^m,f,a,h[p+13],4,681279174);m=o(f^a^l,m,f,h[p+0],11,-358537222);l=o(m^f^a,l,m,h[p+3],16,-722521979);a=o(l^
m^f,a,l,h[p+6],23,76029189);f=o(a^l^m,f,a,h[p+9],4,-640364487);m=o(f^a^l,m,f,h[p+12],11,-421815835);l=o(m^f^a,l,m,h[p+15],16,530742520);a=o(l^m^f,a,l,h[p+2],23,-995338651);f=e(f,a,l,m,h[p+0],6,-198630844);m=e(m,f,a,l,h[p+7],10,1126891415);l=e(l,m,f,a,h[p+14],15,-1416354905);a=e(a,l,m,f,h[p+5],21,-57434055);f=e(f,a,l,m,h[p+12],6,1700485571);m=e(m,f,a,l,h[p+3],10,-1894986606);l=e(l,m,f,a,h[p+10],15,-1051523);a=e(a,l,m,f,h[p+1],21,-2054922799);f=e(f,a,l,m,h[p+8],6,1873313359);m=e(m,f,a,l,h[p+15],10,
-30611744);l=e(l,m,f,a,h[p+6],15,-1560198380);a=e(a,l,m,f,h[p+13],21,1309151649);f=e(f,a,l,m,h[p+4],6,-145523070);m=e(m,f,a,l,h[p+11],10,-1120210379);l=e(l,m,f,a,h[p+2],15,718787259);a=e(a,l,m,f,h[p+9],21,-343485551);f=n(f,B);a=n(a,r);l=n(l,u);m=n(m,w)}h=[f,a,l,m];f="";for(a=0;a<h.length*32;a+=8)f+=String.fromCharCode(h[a>>5]>>>a%32&255);h=f;f="";for(l=0;l<h.length;l++)a=h.charCodeAt(l),f+="0123456789abcdef".charAt(a>>>4&15)+"0123456789abcdef".charAt(a&15);return f}}();function parseUri(o){for(var g=parseUri.options,o=g.parser[g.strictMode?"strict":"loose"].exec(o),c={},e=14;e--;)c[g.key[e]]=o[e]||"";c[g.q.name]={};c[g.key[12]].replace(g.q.parser,function(e,h,f){h&&(c[g.q.name][h]=f)});return c}
parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
(function(){var o=this,g;g=o.Raven={};g.VERSION="0.4";g.loaded=!1;g.options={secretKey:void 0,publicKey:void 0,servers:[],projectId:1,logger:"javascript",site:void 0,signatureUrl:void 0,fetchHeaders:!1,testMode:!1};g.funcNameRE=/function\s*([\w\-$]+)?\s*\(/i;g.config=function(c){if(typeof c==="string")if(c.indexOf("http")===0)c=g.parseDSN(c);else throw"Base64 encoded config is no longer supported - use DSN";_.each(c,function(c,n){g.options[n]=c})};g.parseDSN=function(c){var c=parseUri(c),e=c.path.lastIndexOf("/"),
g;e===-1?(e=c.path.substr(1),g=""):(g=c.path.substr(1,e),e=c.path.substr(e+1));return{servers:[c.protocol+"://"+c.host+":"+c.port+"/"+g+"api/"+e+"/store/"],publicKey:c.user,secretKey:c.password,projectId:e}};g.getHeaders=function(){var c={};g.options.fetchHeaders&&(c=$.ajax({method:"HEAD",url:o.location,async:!1}).getAllResponseHeaders());c.Referer=document.referrer;c["User-Agent"]=navigator.userAgent;return c};g.parseHeaders=function(c){var e={};_.each(c.split("\n"),function(c){var g=c.slice(0,c.indexOf(":")),
c=c.slice(c.indexOf(":")+2);e[g]=c});return e};g.getSignature=function(c,e,n){g.options.signatureUrl?$.ajax({url:g.options.signatureUrl,method:"post",data:{message:c,timestamp:e},success:function(c){n(c.signature)}}):n()};g.getAuthHeader=function(c,e){var n="Sentry sentry_version=2.0, ";n+="sentry_timestamp="+e+", ";n+="sentry_client=raven-js/"+g.VERSION;g.options.publicKey&&(n+=", sentry_key="+g.options.publicKey);c&&(n+=", sentry_signature="+c);return n};g.captureException=function(c){var e,n,h;
if(c.line)e=c.line;else if(c.lineNumber)e=c.lineNumber;if(c.sourceURL)h=c.sourceURL;else if(c.fileName)h=c.fileName;n=c.arguments&&c.stack?this.chromeTraceback(c):c.stack?c.stack.indexOf("@")==-1?this.chromeTraceback(c):this.firefoxTraceback(c):[{filename:h,lineno:e}];g.process(c,h,e,n)};g.captureMessage=function(c){g.process(c)};g.trimString=function(c){return c.replace(/^\s+|\s+$/g,"")};g.chromeTraceback=function(c){var e,n,h,f,a=[],c=c.stack.split("\n");_.each(c.slice(1),function(c){e=g.trimString(c).slice(3);
e!="unknown source"&&(e=e.split(" "),e.length>2?(n=e[0],h=e.slice(1).join(" "),f="(unknown)"):e.length==2?(n=e[0],h=e[1]):(n="(unknown)",h=e[0]),h&&h!="(unknown source)"&&(h=h.slice(0,1)=="("?h.slice(1,-1).split(":"):h.split(":"),f=h.slice(-2)[0],h=h.slice(0,-2).join(":")),a.push({"function":n,filename:h,lineno:f}))});return a};g.firefoxTraceback=function(c){var e,g,h,f,a,l=[],c=c.stack.split("\n");_.each(c,function(c){c&&(e=c.split("@"),e[0]?(g=e[0].split("("),h=g[1]!=")"?g[1].slice(0,-1).split(","):
void 0,g=g[0]?g[0]:"(unknown)"):g="(unknown)",f=e[1].split(":"),a=f.slice(-1)[0],f=f.slice(0,-1).join(":"),l.push({"function":g,filename:f,lineno:a,vars:{arguments:h}}))});return l};g.otherTraceback=function(c){for(var e,g,h=[];c&&h.length<9;)e=c.name||(this.funcNameRE.test(c.toString())?RegExp.$1||"<anonymous>":"<anonymous>"),g=c.arguments?this.stringifyArguments(c.arguments):void 0,h.push({filename:"(unknown source)",lineno:"(unknown)","function":e,post_context:c.toString().split("\n"),vars:{arguments:g}}),
c=c.caller;return h};g.stringifyArguments=function(c){var e,g=this,h=[];_.each(c,function(c){c===void 0?h.push("undefined"):c===null?h.push("null"):c instanceof Array?h.push(g.stringifyArguments(c)):c.constructor?(e=c.constructor.name||(g.funcNameRE.test(c.constructor.toString())?RegExp.$1||"<unknown>":"<unknown>"),e=="String"?h.push('"'+c+'"'):e=="Number"||e=="Date"?h.push(c):e=="Boolean"?h.push(c?"true":"false"):h.push(e)):h.push("<unknown>")});return h};g.process=function(c,e,n,h,f){var a,l,m,
p;a=o.location.origin+o.location.pathname;var B=o.location.search.slice(1);if(typeof c==="object")p=c.name,c=c.message;h?(l={frames:h},e=e||h[0].filename):e&&(l={frames:[{filename:e,lineno:n}]});c={message:n?c+" at "+n:c,culprit:e,"sentry.interfaces.Stacktrace":l,"sentry.interfaces.Exception":{type:p,value:c},project:g.options.projectId,logger:g.options.logger,site:g.options.site};g.options.testMode||(c["sentry.interfaces.Http"]={url:a,querystring:B,headers:g.getHeaders()});f=f||(new Date).getTime();
m=JSON.stringify(c);g.getSignature(m,f,function(a){var c=g.getAuthHeader(a,f);_.each(g.options.servers,function(a){$.ajax({method:"POST",url:a,data:m,headers:{"X-Sentry-Auth":c,Authentication:c}})})})}}).call(this);(function(o){function g(a,b){return function(c){return l(a.call(this,c),b)}}function c(a){return function(b){return this.lang().ordinal(a.call(this,b))}}function e(){}function n(a){f(this,a)}function h(b){var c=this._data={},d=b.years||b.year||b.y||0,e=b.months||b.month||b.M||0,f=b.weeks||b.week||b.w||0,g=b.days||b.day||b.d||0,h=b.hours||b.hour||b.h||0,i=b.minutes||b.minute||b.m||0,m=b.seconds||b.second||b.s||0,b=b.milliseconds||b.millisecond||b.ms||0;this._milliseconds=b+m*1E3+i*6E4+h*36E5;this._days=
g+f*7;this._months=e+d*12;c.milliseconds=b%1E3;m+=a(b/1E3);c.seconds=m%60;i+=a(m/60);c.minutes=i%60;h+=a(i/60);c.hours=h%24;g+=a(h/24);g+=f*7;c.days=g%30;e+=a(g/30);c.months=e%12;d+=a(e/12);c.years=d}function f(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function a(a){return a<0?Math.ceil(a):Math.floor(a)}function l(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function m(a,b,c){var d=b._milliseconds,e=b._days,b=b._months;d&&a._d.setTime(+a+d*c);e&&a.date(a.date()+e*c);b&&(d=
a.date(),a.date(1).month(a.month()+b*c).date(Math.min(d,a.daysInMonth())))}function p(a,b){var c=Math.min(a.length,b.length),d=Math.abs(a.length-b.length),e=0,f;for(f=0;f<c;f++)~~a[f]!==~~b[f]&&e++;return e+d}function B(a){if(!a)return q.fn._lang;!F[a]&&I&&require("./lang/"+a);return F[a]}function r(a){if(a.match(/\[.*\]/))return a.replace(/^\[|\]$/g,"");return a.replace(/\\/g,"")}function u(a){var b=a.match(K),c,d;c=0;for(d=b.length;c<d;c++)b[c]=S[b[c]]?S[b[c]]:r(b[c]);return function(e){var f="";
for(c=0;c<d;c++)f+=typeof b[c].call==="function"?b[c].call(e,a):b[c];return f}}function w(a,b){function c(b){return a.lang().longDateFormat(b)||b}for(var d=5;d--&&L.test(b);)b=b.replace(L,c);M[b]||(M[b]=u(b));return M[b](a)}function s(a){switch(a){case "DDDD":return z;case "YYYY":return b;case "YYYYY":return j;case "S":case "SS":case "SSS":case "DDD":return i;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":case "a":case "A":return V;case "X":return W;case "Z":case "ZZ":return O;case "T":return P;
case "MM":case "DD":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return d;default:return RegExp(a.replace("\\",""))}}function E(a){var b,c=[];if(!a._d){for(b=0;b<7;b++)a._a[b]=c[b]=a._a[b]==null?b===2?1:0:a._a[b];c[3]+=a._tzh||0;c[4]+=a._tzm||0;b=new Date(0);a._useUTC?(b.setUTCFullYear(c[0],c[1],c[2]),b.setUTCHours(c[3],c[4],c[5],c[6])):(b.setFullYear(c[0],c[1],c[2]),b.setHours(c[3],c[4],c[5],c[6]));a._d=b}}function x(a){var b=a._f.match(K),
c=a._i,d,e;a._a=[];for(d=0;d<b.length;d++)if((e=(s(b[d]).exec(c)||[])[0])&&(c=c.slice(c.indexOf(e)+e.length)),S[b[d]]){var f=a,g=void 0,h=f._a;switch(b[d]){case "M":case "MM":h[1]=e==null?0:~~e-1;break;case "MMM":case "MMMM":g=B(f._l).monthsParse(e);g!=null?h[1]=g:f._isValid=!1;break;case "D":case "DD":case "DDD":case "DDDD":e!=null&&(h[2]=~~e);break;case "YY":h[0]=~~e+(~~e>68?1900:2E3);break;case "YYYY":case "YYYYY":h[0]=~~e;break;case "a":case "A":f._isPm=(e+"").toLowerCase()==="pm";break;case "H":case "HH":case "h":case "hh":h[3]=
~~e;break;case "m":case "mm":h[4]=~~e;break;case "s":case "ss":h[5]=~~e;break;case "S":case "SS":case "SSS":h[6]=~~(("0."+e)*1E3);break;case "X":f._d=new Date(parseFloat(e)*1E3);break;case "Z":case "ZZ":f._useUTC=!0;if((g=(e+"").match(N))&&g[1])f._tzh=~~g[1];if(g&&g[2])f._tzm=~~g[2];if(g&&g[0]==="+")f._tzh=-f._tzh,f._tzm=-f._tzm}if(e==null)f._isValid=!1}a._isPm&&a._a[3]<12&&(a._a[3]+=12);a._isPm===!1&&a._a[3]===12&&(a._a[3]=0);E(a)}function v(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function D(a,
b,c){b=c-b;c-=a.day();c>b&&(c-=7);c<b-7&&(c+=7);return Math.ceil(q(a).add("d",c).dayOfYear()/7)}function G(a){var b=a._i,c=a._f;if(b===null||b==="")return null;if(typeof b==="string")a._i=b=B().preparse(b);if(q.isMoment(b))a=f({},b),a._d=new Date(+b._d);else if(c)if(Object.prototype.toString.call(c)==="[object Array]"){for(var b=a,d,e,g=99;b._f.length;){d=f({},b);d._f=b._f.pop();x(d);c=new n(d);if(c.isValid()){e=c;break}d=p(d._a,c.toArray());d<g&&(g=d,e=c)}f(b,e)}else x(a);else if(e=a,b=e._i,c=J.exec(b),
b===o)e._d=new Date;else if(c)e._d=new Date(+c[1]);else if(typeof b==="string")if(c=e._i,U.exec(c)){e._f="YYYY-MM-DDT";for(b=0;b<4;b++)if(T[b][1].exec(c)){e._f+=T[b][0];break}O.exec(c)&&(e._f+=" Z");x(e)}else e._d=new Date(c);else Object.prototype.toString.call(b)==="[object Array]"?(e._a=b.slice(0),E(e)):e._d=b instanceof Date?new Date(+b):new Date(b);return new n(a)}function k(b,a){q.fn[b]=q.fn[b+"s"]=function(b){var c=this._isUTC?"UTC":"";return b!=null?(this._d["set"+c+a](b),this):this._d["get"+
c+a]()}}function C(b){q.duration.fn[b]=function(){return this._data[b]}}function H(b,a){q.duration.fn["as"+b]=function(){return+this/a}}for(var q,A=Math.round,y,F={},I=typeof module!=="undefined"&&module.exports,J=/^\/?Date\((\-?\d+)/i,K=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,L=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,d=/\d\d?/,i=/\d{1,3}/,z=/\d{3}/,b=/\d{1,4}/,j=/[+\-]?\d{1,6}/,V=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,
O=/Z|[\+\-]\d\d:?\d\d/i,P=/T/i,W=/[\+\-]?\d+(\.\d{1,3})?/,U=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,T=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],N=/([\+\-]|\d\d)/gi,Q="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),R={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},M={},X="DDD w W M D d".split(" "),Y="M D H h m s w W".split(" "),
S={M:function(){return this.month()+1},MMM:function(b){return this.lang().monthsShort(this,b)},MMMM:function(b){return this.lang().months(this,b)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(b){return this.lang().weekdaysMin(this,b)},ddd:function(b){return this.lang().weekdaysShort(this,b)},dddd:function(b){return this.lang().weekdays(this,b)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%
100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return l(~~(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),
3)},Z:function(){var b=-this.zone(),a="+";b<0&&(b=-b,a="-");return a+l(~~(b/60),2)+":"+l(~~b%60,2)},ZZ:function(){var b=-this.zone(),a="+";b<0&&(b=-b,a="-");return a+l(~~(10*b/6),4)},X:function(){return this.unix()}};X.length;)y=X.pop(),S[y+"o"]=c(S[y]);for(;Y.length;)y=Y.pop(),S[y+y]=g(S[y],2);S.DDDD=g(S.DDD,3);e.prototype={set:function(b){var a,c;for(c in b)a=b[c],typeof a==="function"?this[c]=a:this["_"+c]=a},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
months:function(b){return this._months[b.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(b){return this._monthsShort[b.month()]},monthsParse:function(b){var a,c;if(!this._monthsParse)this._monthsParse=[];for(a=0;a<12;a++)if(this._monthsParse[a]||(c=q([2E3,a]),c="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[a]=RegExp(c.replace(".",""),"i")),this._monthsParse[a].test(b))return a},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
weekdays:function(b){return this._weekdays[b.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(b){return this._weekdaysShort[b.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(b){return this._weekdaysMin[b.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(b){var a=this._longDateFormat[b];!a&&this._longDateFormat[b.toUpperCase()]&&(a=this._longDateFormat[b.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,
function(b){return b.slice(1)}),this._longDateFormat[b]=a);return a},meridiem:function(b,a,c){return b>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},calendar:function(b,a){var c=this._calendar[b];return typeof c==="function"?c.apply(a):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",
dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(b,a,c,d){var e=this._relativeTime[c];return typeof e==="function"?e(b,a,c,d):e.replace(/%d/i,b)},pastFuture:function(b,a){var c=this._relativeTime[b>0?"future":"past"];return typeof c==="function"?c(a):c.replace(/%s/i,a)},ordinal:function(b){return this._ordinal.replace("%d",b)},_ordinal:"%d",preparse:function(b){return b},postformat:function(b){return b},week:function(b){return D(b,this._week.dow,this._week.doy)},
_week:{dow:0,doy:6}};q=function(b,a,c){return G({_i:b,_f:a,_l:c,_isUTC:!1})};q.utc=function(b,a,c){return G({_useUTC:!0,_isUTC:!0,_l:c,_i:b,_f:a})};q.unix=function(b){return q(b*1E3)};q.duration=function(b,a){var c=q.isDuration(b),d=typeof b==="number",e=c?b._data:d?{}:b;if(d)a?e[a]=b:e.milliseconds=b;d=new h(e);if(c&&b.hasOwnProperty("_lang"))d._lang=b._lang;return d};q.version="2.0.0";q.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";q.lang=function(b,a){if(!b)return q.fn._lang._abbr;a?(a.abbr=b,F[b]||(F[b]=
new e),F[b].set(a)):F[b]||B(b);q.duration.fn._lang=q.fn._lang=B(b)};q.langData=function(b){if(b&&b._lang&&b._lang._abbr)b=b._lang._abbr;return B(b)};q.isMoment=function(b){return b instanceof n};q.isDuration=function(b){return b instanceof h};q.fn=n.prototype={clone:function(){return q(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1E3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return q.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},
toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){if(this._isValid==null)this._isValid=this._a?!p(this._a,(this._isUTC?q.utc(this._a):q(this._a)).toArray()):!isNaN(this._d.getTime());return!!this._isValid},utc:function(){this._isUTC=!0;return this},local:function(){this._isUTC=!1;return this},format:function(b){b=w(this,b||q.defaultFormat);return this.lang().postformat(b)},add:function(b,a){var c;c=typeof b===
"string"?q.duration(+a,b):q.duration(b,a);m(this,c,1);return this},subtract:function(b,a){var c;c=typeof b==="string"?q.duration(+a,b):q.duration(b,a);m(this,c,-1);return this},diff:function(b,c,d){var b=this._isUTC?q(b).utc():q(b).local(),e=(this.zone()-b.zone())*6E4,f;c&&(c=c.replace(/s$/,""));c==="year"||c==="month"?(e=(this.daysInMonth()+b.daysInMonth())*432E5,f=(this.year()-b.year())*12+(this.month()-b.month()),f+=(this-q(this).startOf("month")-(b-q(b).startOf("month")))/e,c==="year"&&(f/=12)):
(e=this-b-e,f=c==="second"?e/1E3:c==="minute"?e/6E4:c==="hour"?e/36E5:c==="day"?e/864E5:c==="week"?e/6048E5:e);return d?f:a(f)},from:function(b,a){return q.duration(this.diff(b)).lang(this.lang()._abbr).humanize(!a)},fromNow:function(b){return this.from(q(),b)},calendar:function(){var b=this.diff(q().startOf("day"),"days",!0);return this.format(this.lang().calendar(b<-6?"sameElse":b<-1?"lastWeek":b<0?"lastDay":b<1?"sameDay":b<2?"nextDay":b<7?"nextWeek":"sameElse",this))},isLeapYear:function(){var b=
this.year();return b%4===0&&b%100!==0||b%400===0},isDST:function(){return this.zone()<q([this.year()]).zone()||this.zone()<q([this.year(),5]).zone()},day:function(b){var a=this._isUTC?this._d.getUTCDay():this._d.getDay();return b==null?a:this.add({d:b-a})},startOf:function(b){b=b.replace(/s$/,"");switch(b){case "year":this.month(0);case "month":this.date(1);case "week":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}b==="week"&&
this.day(0);return this},endOf:function(b){return this.startOf(b).add(b.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(b,a){a=typeof a!=="undefined"?a:"millisecond";return+this.clone().startOf(a)>+q(b).startOf(a)},isBefore:function(b,a){a=typeof a!=="undefined"?a:"millisecond";return+this.clone().startOf(a)<+q(b).startOf(a)},isSame:function(b,a){a=typeof a!=="undefined"?a:"millisecond";return+this.clone().startOf(a)===+q(b).startOf(a)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},
daysInMonth:function(){return q.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(b){var a=A((q(this).startOf("day")-q(this).startOf("year"))/864E5)+1;return b==null?a:this.add("d",b-a)},isoWeek:function(b){var a=D(this,1,4);return b==null?a:this.add("d",(b-a)*7)},week:function(b){var a=this.lang().week(this);return b==null?a:this.add("d",(b-a)*7)},lang:function(b){return b===o?this._lang:(this._lang=B(b),this)}};for(y=0;y<Q.length;y++)k(Q[y].toLowerCase().replace(/s$/,""),Q[y]);k("year",
"FullYear");q.fn.days=q.fn.day;q.fn.weeks=q.fn.week;q.fn.isoWeeks=q.fn.isoWeek;q.duration.fn=h.prototype={weeks:function(){return a(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864E5+this._months*2592E6},humanize:function(b){var a=+this,c;c=!b;var d=this.lang(),e=A(Math.abs(a)/1E3),f=A(e/60),g=A(f/60),h=A(g/24),i=A(h/365),e=e<45&&["s",e]||f===1&&["m"]||f<45&&["mm",f]||g===1&&["h"]||g<22&&["hh",g]||h===1&&["d"]||h<=25&&["dd",h]||h<=45&&["M"]||h<345&&["MM",A(h/30)]||i===1&&
["y"]||["yy",i];e[2]=c;e[3]=a>0;e[4]=d;c=v.apply({},e);b&&(c=this.lang().pastFuture(a,c));return this.lang().postformat(c)},lang:q.fn.lang};for(y in R)R.hasOwnProperty(y)&&(H(y,R[y]),C(y.toLowerCase()));H("Weeks",6048E5);q.lang("en",{ordinal:function(b){var a=b%10;return b+(~~(b%100/10)===1?"th":a===1?"st":a===2?"nd":a===3?"rd":"th")}});if(I)module.exports=q;this.moment=q;typeof define==="function"&&define.amd&&define("moment",[],function(){return q})}).call(this);(function(o){var g=function(c,e,g){this.store=c;this.max=e||10;this.queueKey=g||"__queue";this.getQueue()||this.setQueue([])};g.prototype.setItem=function(c,e){var g=this.getQueue()||this.setQueue([]);g.length===this.max&&this.store.removeItem(g.shift());this.store.setItem(c,e);g.push(c);this.setQueue(g)};g.prototype.getItem=function(c){return this.store.getItem(c)};g.prototype.removeItem=function(c){this.store.removeItem(c);for(var e=this.getQueue()||[],g=0;g<e.length;g++)if(e[g]===c){e.splice(g,
1);break}this.setQueue(e)};g.prototype.clear=function(){this.store.clear();this.setQueue([])};g.prototype.getQueue=function(){var c=this.store.getItem(this.queueKey);return c?JSON.parse(c):null};g.prototype.setQueue=function(c){this.store.setItem(this.queueKey,JSON.stringify(c));return c};o.QueuedStorage=g})(this);(function(o){function g(a){return a.replace(h," ")}function c(e,f,h){var l="",n=[],o,s,E,x;typeof h!=="string"&&(h="\n\n");for(x=0;x<e.length;++x)s=e[x],o=s.nodeName.toLowerCase(),s.nodeType===1?(E=f&&f(s))?l+=E:a.hasOwnProperty(o)?(l&&n.push(l),l=c(s.childNodes,f,h)):l+=o==="br"?"\n":c(s.childNodes,f,h):s.nodeType===3&&(l+=g(s.nodeValue));n.push(l);return n.join(h)}function e(a,c,e){if(a.addEventListener)a.addEventListener(c,e,!1);else if(a.attachEvent)a.attachEvent("on"+c,e);else throw Error("No event support.");
}for(var n=o.document,h=RegExp(String.fromCharCode(160),"gi"),f="h1 h2 h3 h4 h5 h6 p pre blockquote address ul ol dir menu li dl div form".split(" "),a={},l=0,l=0;l<f.length;l++)a[f[l]]=!0;f=function(a,c,f){var g=this;if(!a||!a.contentEditable)throw"First argument must be contentEditable";this.elem=a;if(this.emulateTextarea=a.getAttribute("plaintext-only")||c)this.pasteHandler=function(){var a=g.plainTextReformat;a.timeout&&clearTimeout(a.timeout);a.timeout=setTimeout(function(){a.timeout=null;a.call(g)},
0)},e(a,"paste",this.pasteHandler);for(var h in f)f.hasOwnProperty(h)&&(this[h]=f[h])};f.prototype={insertHTML:function(a){if(n.all){var c=n.selection.createRange();c.pasteHTML(a);c.collapse(!1);return c.select()}else return n.execCommand("insertHTML",!1,a)},insertNode:function(a){var c,e;o.getSelection?(c=o.getSelection(),c.getRangeAt&&c.rangeCount&&(e=c.getRangeAt(0),e.deleteContents(),e.insertNode(a),e.collapse(!1),c.removeAllRanges(),c.addRange(e))):n.selection&&n.selection.createRange&&(e=n.selection.createRange(),
a=a.nodeType===3?a.data:a.outerHTML,e.pasteHTML(a),e.collapse(!1))},getTextNodes:function(a){var c=this.elem;if(a&&a.nodeType)a=[a];else if(!a)a=c.childNodes;for(var c=[],e=0,f;e<a.length;++e)if(f=a[e])switch(f.nodeType){case 1:c=c.concat(this.getTextNodes(f.childNodes));break;case 3:/^\n\s+/.test(f.nodeValue)||c.push(f)}return c},text:function(a){var e=this.elem,f,g;try{f=Array.prototype.slice.call(e.childNodes)}catch(h){f=[];for(g=0;g<e.childNodes.length;++g)f.push(e.childNodes[g])}return c(f,a,
this.emulateTextarea&&"\n").replace(/^\s+|\s+$/g,"")},setText:function(a){var a=a||"",c=n.createDocumentFragment(),a=this.emulateTextarea?[a.replace(/(?:\r\n|\r|\n){2,}/g,"\n\n")]:a.split(/(?:\r\n|\r|\n){2,}/),e,f=a&&a.length,g;for(e=0;e<f;e++)g=a[e],g=this.createParagraph(g),c.appendChild(g);c.lastChild.appendChild(n.createElement("br"));this.elem.innerHTML="";this.elem.appendChild(c);(c=o.getSelection&&o.getSelection())&&c.anchorNode===this.elem&&c.modify&&c.modify("move","forward","line")},createParagraph:function(a){var c=
n.createElement("p"),e,f,g,h,l;f=a.split(/\r\n|\r|\n/);a=0;for(g=f.length;a<g;a++){e=f[a];l=this.getHtmlElements(e);e=0;for(h=l.length;e<h;e++)c.appendChild(l[e]);c.appendChild(n.createElement("br"))}c.lastChild&&c.removeChild(c.lastChild);return c},getHtmlElements:function(a){return[n.createTextNode(a)]},plainTextReformat:function(){if(!(this.elem.getElementsByTagName("p").length<=1)){this.emulateTextarea=!1;var a=this.text();this.emulateTextarea=!0;this.setText(a)}},removeNode:function(a){var c,
e;o.getSelection?(c=a.previousSibling,a.parentNode.removeChild(a),a=o.getSelection(),e=n.createRange(),c&&(e.setStart(c,c.length),e.setEnd(c,c.length)),a.addRange(e)):a.parentNode.removeChild(a)},selectedTextNode:function(){var a=this.elem,c;if(o.getSelection)return a=o.getSelection(),a.anchorNode;else if(n.selection.createRange){for(c=n.selection.createRange().duplicate();c.moveStart("character",-1E3)===-1E3;);c=c.text;var e,f,h,l,s,E;for(s=0;s<a.childNodes.length;++s){e=a.childNodes[s];f=this.getTextNodes(e);
for(E=0;E<f.length;++E)if(e=f[E],l=g(e.nodeValue),c.indexOf(l)>-1)h=e,c=c.replace(l,"");else if(l.indexOf(c)>-1)return e}return h}},selectedTextNodeOffset:function(a){var c;if(o.getSelection){if((a=o.getSelection())&&a.anchorOffset)c=a.anchorOffset}else if(a&&n.selection.createRange){c=n.selection.createRange();for(var a=g(a.nodeValue),e=c.duplicate(),e=e.parentElement(),f=0;c.moveStart("character",-1)!==0&&++f;){if(a.indexOf(g(c.text))===0||e!==c.parentElement())break;e=c.duplicate();e=e.parentElement()}c=
f}return isNaN(c)?0:c},selectNodeText:function(a,c,e){var f=this.elem,h;if(o.getSelection)return f=o.getSelection(),f.removeAllRanges(),h=n.createRange(),h.setStart(a,c),h.setEnd(a,e),f.addRange(h),f;else if(n.selection.createRange){h=n.selection.createRange();a=g(a.nodeValue);if(h.parentElement().nodeName.toLowerCase()==="body"){f.focus();for(h=n.selection.createRange();h.moveStart("character",-1E3)===-1E3;);for(;h.moveEnd("character",1E3)===1E3;);f=g(h.text).indexOf(a);f>0&&h.moveStart("character",
f+2);h.collapse()}for(;h.moveStart("character",-1)===-1&&a.indexOf(g(h.text))!==0;);for(;h.moveEnd("character",1)===1&&a!==g(h.text););h.moveStart("character",c);h.moveEnd("character",-1*(e-c-h.text.length));h.select();return h}}};f.normalizeSpace=g;o.Editable=f})(this);